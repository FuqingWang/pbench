<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2019-11-07 Thu 17:29 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>PBench release notes</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="Nick Dokos" />
<meta name="keywords" content="pbench" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<link rel="stylesheet" href="../../stylesheets/normalize.css" type="text/css"/>
<link rel="stylesheet" href="../../stylesheets/stylesheet.css" type="text/css"/>
<link rel="stylesheet" href="../../stylesheets/github-light.css" type="text/css"/>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2019 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">PBench release notes</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org8e09e05">Version 0.66</a>
<ul>
<li><a href="#org86c3e23">Installation</a></li>
<li><a href="#orga6aa6db">agent</a></li>
<li><a href="#org87bc728">server</a></li>
<li><a href="#web-server-0.66">web-server</a></li>
<li><a href="#pbench-dashboard-0.6">Pbench dashboard</a></li>
<li><a href="#org4826617">Documentation</a></li>
<li><a href="#changelog-v0.66">Changelog</a></li>
</ul>
</li>
<li><a href="#org17734dd">Version 0.65</a>
<ul>
<li><a href="#orgb7fea1d">Installation</a></li>
<li><a href="#org1ee7948">agent</a></li>
<li><a href="#org007e3d2">server</a></li>
<li><a href="#web-server-0.65">web-server</a></li>
<li><a href="#orga9833fc">Changelog</a></li>
</ul>
</li>
<li><a href="#orgbd58b95">Version 0.64</a>
<ul>
<li><a href="#orga6c6e82">Installation</a></li>
<li><a href="#org03de9a0">agent</a></li>
<li><a href="#org29d5bb4">server</a></li>
<li><a href="#web-server-0.64">web-server</a></li>
<li><a href="#org13b1300">Changelog</a></li>
</ul>
</li>
<li><a href="#orgec65f7c">Version 0.63</a>
<ul>
<li><a href="#orgcba736f">Installation</a></li>
<li><a href="#org93b549d">agent</a></li>
<li><a href="#org1fa1f37">server</a></li>
<li><a href="#web-server-0.63">web-server</a></li>
<li><a href="#orgde5e3b8">Changelog</a></li>
</ul>
</li>
<li><a href="#org4a75f52">Version 0.62</a>
<ul>
<li><a href="#org867a1e1">Installation</a></li>
<li><a href="#org5c2fa3c">agent</a></li>
<li><a href="#orgc085124">server</a></li>
<li><a href="#web-server-0.62">web-server</a></li>
<li><a href="#orgfc5ba3b">Changelog</a></li>
</ul>
</li>
<li><a href="#org326f0b8">Version 0.61</a></li>
<li><a href="#orgd125709">Version 0.60</a>
<ul>
<li><a href="#org6b3ecc4">Installation</a></li>
<li><a href="#org90e0010">agent</a></li>
<li><a href="#orge74c5e9">server</a></li>
<li><a href="#web-server-0.60">web-server</a></li>
<li><a href="#org277e726">Changelog</a></li>
</ul>
</li>
<li><a href="#orgb4f75a7">Version 0.59</a>
<ul>
<li><a href="#orgb57d7bc">Installation</a></li>
<li><a href="#org5600a2a">agent</a></li>
<li><a href="#org058d76c">server</a></li>
<li><a href="#web-server-0.59">web-server</a></li>
<li><a href="#org1d23bc9">Changelog</a></li>
</ul>
</li>
<li><a href="#org6ab69a0">Version 0.58</a>
<ul>
<li><a href="#org64b0129">Installation</a></li>
<li><a href="#org212a246">agent</a></li>
<li><a href="#org2290140">server</a></li>
<li><a href="#web-server-0.58">web-server</a></li>
<li><a href="#orgfb47610">Changelog</a></li>
</ul>
</li>
<li><a href="#orgd9327d5">Version 0.57</a>
<ul>
<li><a href="#orga96a4cb">Installation</a></li>
<li><a href="#org3a2c8cb">agent</a></li>
<li><a href="#org2ec8d2f">server</a></li>
<li><a href="#web-server-0.57">web-server</a></li>
<li><a href="#org9124e6f">Changelog</a></li>
</ul>
</li>
<li><a href="#orgea05d28">Version 0.56</a>
<ul>
<li><a href="#org6318490">Installation</a></li>
<li><a href="#org6a3701a">agent</a></li>
<li><a href="#org68768c6">server</a></li>
<li><a href="#web-server-0.56">web-server</a></li>
<li><a href="#org1a55a92">Changelog</a></li>
</ul>
</li>
<li><a href="#org2278374">Version 0.55</a>
<ul>
<li><a href="#orgfa00a5d">Installation</a></li>
<li><a href="#orgf7763ab">agent</a></li>
<li><a href="#org2870ba4">server</a></li>
<li><a href="#web-server-0.55">web-server</a></li>
<li><a href="#org4880b7e">Changelog</a></li>
</ul>
</li>
<li><a href="#org983debb">Version 0.54</a>
<ul>
<li><a href="#org63e968b">Installation</a></li>
<li><a href="#orgec63f10">agent</a></li>
<li><a href="#orgcc64b4a">server</a></li>
<li><a href="#web-server-0.54">web-server</a></li>
<li><a href="#orga831259">Changelog</a></li>
</ul>
</li>
<li><a href="#org7b0a521">Version 0.53</a>
<ul>
<li><a href="#org04f504d">Installation</a></li>
<li><a href="#org97599ff">agent</a></li>
<li><a href="#org9d2ce01">server</a></li>
<li><a href="#web-server-0.53">web-server</a></li>
<li><a href="#orge454066">Changelog</a></li>
</ul>
</li>
<li><a href="#org0da703d">Version 0.52</a>
<ul>
<li><a href="#orga928bde">Installation</a></li>
<li><a href="#org46adad4">agent</a></li>
<li><a href="#org2fe3fb0">server</a></li>
<li><a href="#web-server-0.52">web-server</a></li>
<li><a href="#org1665c20">Changelog</a></li>
</ul>
</li>
<li><a href="#org28b3858">Version 0.51</a>
<ul>
<li><a href="#orgb3287e4">Installation</a></li>
<li><a href="#v0.51-agent">agent</a></li>
<li><a href="#orgc069ffb">server</a></li>
<li><a href="#web-server-0.51">web-server</a></li>
<li><a href="#org819c54d">Changelog</a></li>
</ul>
</li>
<li><a href="#org1611e7c">Version 0.50</a>
<ul>
<li><a href="#org366bb26">Installation</a></li>
<li><a href="#orgb9baf2e">agent</a></li>
<li><a href="#org11f9a90">server</a></li>
<li><a href="#web-server-0.50">web-server</a></li>
<li><a href="#org11c9b23">Changelog</a></li>
</ul>
</li>
<li><a href="#org46d1ada">Version 0.49</a>
<ul>
<li><a href="#org1249984">Installation</a></li>
<li><a href="#org3b6e099">agent</a></li>
<li><a href="#orgd2835d5">server</a></li>
<li><a href="#web-server-0.49">web-server</a></li>
<li><a href="#orgd2f8449">Changelog</a></li>
</ul>
</li>
<li><a href="#org2b1aeaa">Version 0.48</a>
<ul>
<li><a href="#org4dded31">Installation</a></li>
<li><a href="#orge90089f">agent</a></li>
<li><a href="#orgdb4cb98">server</a></li>
<li><a href="#web-server-0.48">web-server</a></li>
<li><a href="#orgbdf65e5">Changelog</a></li>
</ul>
</li>
<li><a href="#org7ec84e5">Version 0.47</a>
<ul>
<li><a href="#org0b08127">Installation</a></li>
<li><a href="#org79f2fc7">agent</a></li>
<li><a href="#orgdb92314">server</a></li>
<li><a href="#web-server-0.47">web-server</a></li>
<li><a href="#orgfc5ca54">Changelog</a></li>
</ul>
</li>
<li><a href="#org42cbe87">Version 0.46</a>
<ul>
<li><a href="#org79c97fc">Installation</a></li>
<li><a href="#org542ea2f">agent</a></li>
<li><a href="#orgfcc4976">server</a></li>
<li><a href="#web-server-0.46">web-server</a></li>
<li><a href="#org9805fdb">Changelog</a></li>
</ul>
</li>
<li><a href="#orgd944658">Version 0.45</a>
<ul>
<li><a href="#org8cc4dac">Installation</a></li>
<li><a href="#org2bec8b1">agent</a></li>
<li><a href="#orgf173780">server</a></li>
<li><a href="#web-server-0.45">web-server</a></li>
<li><a href="#org1ca8588">Changelog</a></li>
</ul>
</li>
<li><a href="#org408cb7a">Version 0.44</a>
<ul>
<li><a href="#org1301a45">Installation</a></li>
<li><a href="#orge19e83b">agent</a></li>
<li><a href="#org1f0a3ec">server</a></li>
<li><a href="#web-server-0.44">web-server</a></li>
<li><a href="#org63a0fe4">Changelog</a></li>
</ul>
</li>
<li><a href="#org0eb346d">Version 0.43</a>
<ul>
<li><a href="#org4c9c45d">Installation</a></li>
<li><a href="#orge27dd01">agent</a></li>
<li><a href="#orgaa7f4f8">server</a></li>
<li><a href="#web-server-0.43">web-server</a></li>
<li><a href="#orgd677918">Changelog</a></li>
</ul>
</li>
<li><a href="#org381b52b">Version 0.42</a>
<ul>
<li><a href="#orga0db306">Installation</a></li>
<li><a href="#orgef3ada7">agent</a></li>
<li><a href="#org88fc380">server</a></li>
<li><a href="#web-server-0.42">web-server</a></li>
<li><a href="#orgf5d887c">Changelog</a></li>
</ul>
</li>
<li><a href="#orgafb54ad">Version 0.41</a>
<ul>
<li><a href="#orgba405fc">Installation</a></li>
<li><a href="#orga21510d">agent</a></li>
<li><a href="#org134dcb3">server</a></li>
<li><a href="#web-server-0.41">web-server</a></li>
<li><a href="#orgf8e3766">Changelog</a></li>
</ul>
</li>
<li><a href="#org7958788">Version 0.40</a>
<ul>
<li><a href="#org36e8261">Installation</a></li>
<li><a href="#org5ed9f06">agent</a></li>
<li><a href="#orgd953d0e">server</a></li>
<li><a href="#web-server-0.40">web-server</a></li>
<li><a href="#orgd638b5a">Changelog</a></li>
</ul>
</li>
<li><a href="#org2c6653a">Version 0.39</a>
<ul>
<li><a href="#org515b790">Installation</a></li>
<li><a href="#orgb30779e">agent</a></li>
<li><a href="#orgf05d5da">server</a></li>
<li><a href="#web-server-0.39">web-server</a></li>
<li><a href="#org14167b3">Changelog</a></li>
</ul>
</li>
<li><a href="#org3f50a9c">Version 0.38</a>
<ul>
<li><a href="#org3ce4a7a">Installation</a></li>
<li><a href="#org9fe8571">agent</a></li>
<li><a href="#org57c286a">server</a></li>
<li><a href="#orgb387547">web-server</a></li>
<li><a href="#org68687a4">Fedora 24 RPMs on COPR</a></li>
<li><a href="#org670fac3">Changelog</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-org8e09e05" class="outline-2">
<h2 id="org8e09e05">Version 0.66</h2>
<div class="outline-text-2" id="text-org8e09e05">
<p>
This release is an agent-only bug-fix release.
</p>
</div>

<div id="outline-container-org86c3e23" class="outline-3">
<h3 id="org86c3e23">Installation</h3>
<div class="outline-text-3" id="text-org86c3e23">
<p>
There are ansible playbooks to install <code>pbench-agent</code> and the pieces
needed (key and config files) to be able to send results to a server.
</p>

<p>
There are no other installation changes in this release: see the
<a href="../agent/installation.html">Installation Instructions</a> for how to install or update.
</p>

<p>
After installation or update, you should have version 0.66-1g05d1b6d9
of the pbench-agent RPM installed.
</p>
</div>
</div>

<div id="outline-container-orga6aa6db" class="outline-3">
<h3 id="orga6aa6db">agent</h3>
<div class="outline-text-3" id="text-orga6aa6db">
</div>
<ul class="org-ul">
<li><a id="orgcc4416a"></a>Bug fixes and enhancements<br />
<div class="outline-text-4" id="text-orgcc4416a">
<p>
There is a new trafficgen repo and pbench-trafficgen has been updated
to use it.
</p>

<p>
Trafficgen uses options with percentage values which, left untreated,
cause problems to the config parser. % signs are now escaped when we
add things to the metadata.log file, so trafficgen options that contain
% signs should work properly. See PR #1390 for details.
</p>

<p>
In adddition, % signs uses in e.g. <code>--config</code> options when running
pbench benchmarks caused problems in two different ways: PR #1395
deals with both problems and, together with PR #1390, allows % signs
in user input in general.
</p>
</div>
</li>

<li><a id="org1f2aac1"></a>Incompatible changes<br />
<div class="outline-text-4" id="text-org1f2aac1">
<p>
The ability to edit prefixes on the server has been broken for a
while: prefixes are now set once and for all, by using the <code>--prefix</code>
option when invoking <code>pbench-{move/copy}-results</code>. The agent-side
<code>pbench-edit-prefix</code> script has been a no-op for a while. In this
release, it has been removed from the code base.
</p>
</div>
</li>
</ul>
</div>

<div id="outline-container-org87bc728" class="outline-3">
<h3 id="org87bc728">server</h3>
<div class="outline-text-3" id="text-org87bc728">
<p>
Although we have not produced a new server RPM, there are several
fixes to operational aspects of the server. We have also opened several
issues on server operation improvements. These are in active
development for v0.67.
</p>
</div>

<ul class="org-ul">
<li><a id="org9a3d6b1"></a>Bug Fixes and enhancements<br />
<div class="outline-text-4" id="text-org9a3d6b1">
<ul class="org-ul">
<li>Cleaned up the logging that is done by <code>pbench-sync-satellite-server</code>.</li>
<li>Speed improvements in <code>pbench-verify-backup-tarballs</code>, but there is more
work coming for this - see <a href="#orgeeffbe2">issues</a>.</li>
</ul>
</div>
</li>

<li><a id="orgeeffbe2"></a>Issues we are working on for v0.67<br />
<div class="outline-text-4" id="text-orgeeffbe2">
<dl class="org-dl">
<dt><a href="https://github.com/distributed-system-analysis/pbench/issues/1398">Issue 1398</a></dt><dd>Improve the handling of tar balls to avoid having small
ones get stuck behind large ones. See also <a href="https://github.com/distributed-system-analysis/pbench/pull/1400">PR 1400</a>.</dd>
<dt><a href="https://github.com/distributed-system-analysis/pbench/issues/1397">Issue 1397</a></dt><dd>Parallelize <code>pbench-verify-backup-tarballs</code>.</dd>
<dt><a href="https://github.com/distributed-system-analysis/pbench/pull/1332">PR 1332</a></dt><dd>Change pbench-server logging from files to a centralized rsyslog server.</dd>
<dt><a href="https://github.com/distributed-system-analysis/pbench/pull/1381">PR 1381</a></dt><dd>Speed up the indexer by changing the way we calculate source ids.</dd>
<dt><a href="https://github.com/distributed-system-analysis/pbench/issues/1415">Issue 1415</a></dt><dd>Fix the handling of large objects for S3 backup.</dd>
</dl>
</div>
</li>
</ul>
</div>

<div id="outline-container-orgb442e63" class="outline-3">
<h3 id="web-server-0.66">web-server</h3>
<div class="outline-text-3" id="text-web-server-0.66">
<p>
There are no changes and no new web-server RPMs produced.
</p>
</div>
</div>

<div id="outline-container-orgaefb20e" class="outline-3">
<h3 id="pbench-dashboard-0.6">Pbench dashboard</h3>
<div class="outline-text-3" id="text-pbench-dashboard-0.6">
<p>
The development of the dashboard is  not tracked in these
release notes (other than the list of commits in the <a href="#changelog-v0.66">Changelog</a>.
</p>
</div>
</div>

<div id="outline-container-org4826617" class="outline-3">
<h3 id="org4826617">Documentation</h3>
<div class="outline-text-3" id="text-org4826617">
<p>
A guide to potential contributors to pbench has been added.
</p>
</div>
</div>

<div id="outline-container-orgf26b028" class="outline-3">
<h3 id="changelog-v0.66">Changelog</h3>
<div class="outline-text-3" id="text-changelog-v0.66">
<p>
This is the list of visible commits since v0.65:
</p>

<ul class="org-ul">
<li>05d1b6d95 (HEAD -&gt; master, tag: v0.66, dsa/master) Version bump</li>
<li>1fd4ee7ad Get UI unit tests working again w latest enzyme pkg</li>
<li>1eea1389f Separate jobs for agent, server, and UI unit tests</li>
<li>f450a2077 Wait for server URL instead of sleeping</li>
<li>dd7d278ce Remove executable bit on a few files</li>
<li>b40203f93 Upgrade umi and umi plugins to latest version and reference redux persistor from constructor</li>
<li>c94d2252c Fix %-sign handling in pbench-make-result-tb and pbench-metadata-log</li>
<li>3b2351432 Fix use of scp/ssh options and mock scp cleanly</li>
<li>439c56ae3 Fix dashboard unit tests and update README.md</li>
<li>ca88c6dd1 Remove redundant fetch of MD5s from verify backup</li>
<li>a9a007ca6 Fix failing unit tests on some Fedora systems</li>
<li>3b810bc7e Updates label information</li>
<li>df5264163 Creates CONTRIBUTION.md</li>
<li>6f0728e75 rewrite-metalog-%-error-testcase</li>
<li>abf06f407 Update search e2e tests to reflect Search page component changes</li>
<li>538476fe8 Preserve search state across multiple queries to enable multi-controller search by utilizing component state</li>
<li>8abeede54 Revert "Remove redundant fetch of MD5s from verify backup"</li>
<li>7328bc648 Remove redundant fetch of MD5s from verify backup</li>
<li>122399101 add timestamp for tarball</li>
<li>607fe8d89 metalog-%-error</li>
<li>79b68870f cleanup-log-dir</li>
<li>acc44ef3a pbench-trafficgen: point to the updated trafficgen repository location/name</li>
<li>5ab928dcf Reorganize results into maps with controller key for persisting data across selections</li>
<li>5d6213aac Support for multiple hosts to pbench-register-tool</li>
<li>81e1dabb4 Adds unit tests for RowSelection Component</li>
<li>093ae3758 Removing pbench-edit-prefixes on Agent side</li>
<li>595b221b6 Resolve eslinting errors</li>
<li>b7132e1cd Organize selected iteration data according to rendered result index on page to prevent overwriting</li>
<li>a943cad79 eliminated shims option in the [pbench-prep] section of pbench-server-default.cfg</li>
<li>78a941751 Report which config file failed</li>
<li>6da874ce6 Short-term fix for missing pb-m-r user/prefix args</li>
<li>bc187fab2 Utilize "selectedRows" from onSelect, onSelectAll callback using ant design Table API</li>
</ul>
</div>
</div>
</div>


<div id="outline-container-org17734dd" class="outline-2">
<h2 id="org17734dd">Version 0.65</h2>
<div class="outline-text-2" id="text-org17734dd">
<p>
This release covers both agent and server. The agent release is a
bug-fix release. The server release involves many changes,
particularly in speeding up the indexing of runs, results and
table-of-contents data (tool data are still slow and still not
available through the dashboard).
</p>
</div>

<div id="outline-container-orgb7fea1d" class="outline-3">
<h3 id="orgb7fea1d">Installation</h3>
<div class="outline-text-3" id="text-orgb7fea1d">
<p>
There are ansible playbooks to install <code>pbench-agent</code> and the pieces
needed (key and config files) to be able to send results to a server.
</p>

<p>
There are no other installation changes in this release: see the
<a href="../agent/installation.html">Installation Instructions</a> for how to install or update.
</p>

<p>
After installation or update, you should have version 0.65-2g6da874ce
of the pbench-agent RPM installed.
</p>
</div>
</div>

<div id="outline-container-org1ee7948" class="outline-3">
<h3 id="org1ee7948">agent</h3>
<div class="outline-text-3" id="text-org1ee7948">
<p>
The agent includes two bug fixes:
</p>

<ul class="org-ul">
<li>a bug in benchmark postprocessing (see issue #1336 and PR #1346 on
Github).</li>
<li>a bug in the <code>--user</code> and <code>--prefix</code> handling in
<code>pbench-move-results</code> (see issue #1358 and PR #1369 on Github)</li>
</ul>

<p>
The latter bug is only partially addressed and we plan major changes
in this area to prevent mishaps in the future. For the time being:
</p>
<ul class="org-ul">
<li>we recommend that options that take arguments be specified using an
= sign, e.g. <code>--user=ndk</code>.</li>
<li>in scripts, if an argument is determined by a shell variable, we
recommend that the value of the variable be quoted, e.g.
<code>--user="$user"</code>.</li>
</ul>
</div>
</div>


<div id="outline-container-org007e3d2" class="outline-3">
<h3 id="org007e3d2">server</h3>
<div class="outline-text-3" id="text-org007e3d2">
<p>
There is a new server RPM (pbench-server-0.65-1g35041ff4). If you are
running an older pbench server, we recommend upgrading. The new server
sports a faster indexer, which also handles trafficgen data.
</p>
</div>
</div>

<div id="outline-container-orgb4deaf6" class="outline-3">
<h3 id="web-server-0.65">web-server</h3>
<div class="outline-text-3" id="text-web-server-0.65">
<p>
There are no new web-server RPMs produced.
</p>
</div>
</div>

<div id="outline-container-orga9833fc" class="outline-3">
<h3 id="orga9833fc">Changelog</h3>
<div class="outline-text-3" id="text-orga9833fc">
<p>
This is the list of visible commits since v0.64:
</p>

<ul class="org-ul">
<li>6da874ce6  Short-term fix for missing pb-m-r user/prefix args</li>
<li>bc187fab2 Utilize "selectedRows" from onSelect, onSelectAll callback using ant design Table API</li>
<li>35041ff4d (tag: v0.65) Version bump</li>
<li>704d9c2cd Fix audit server code to handle &#x2013;* controller names</li>
<li>8f99876b7 adds unit test for TimeseriesGraph component</li>
<li>afec9ee87 Adds unit test for TableFilterSelection component</li>
<li>f7458cecf Adds snapshot test for Table and Button component</li>
<li>e726277fa Enhance search page component e2e test verification with pattern matching against mocked data</li>
<li>58655b243 Reference @metadata.controller_dir when querying result.json files from result server</li>
<li>e89fe49da Enhance puppeteer e2e tests to use request API for intercepting and mocking network requests</li>
<li>126b65804 fixed stockpile cloning</li>
<li>19c8b975a Don't assign "all" to timeseries array when creating aggregate -Aggregate metrics start with a dataset with many keys being  assigned to "all", but this should not be the case for 'timeseries',  which is used to reference an array.</li>
<li>0b7f96b4e Specify the application history type to use hash history</li>
<li>0b05ace2d Enhance ansible dashboard README</li>
<li>ba752fddd Map controller directory field to correct value '@metadata.controller_dir'</li>
<li>fac338c31 Enforce latest indexed month as default selected value for controller view</li>
<li>a10a66d9f Make s3 backup optional.</li>
<li>bc4b6ec3b Reference dashboard app path from utility function for use in redux models</li>
<li>af2f7f5c6 Reference first path item as persistConfig key and update selected month index within Redux model</li>
<li>880454e9a Reference application data via static `appName` field in `app.js`</li>
<li>add635b33 Upgrade Prisma service to v1.34 to enable storage of large string values</li>
<li>78aaa90c8 Further fixes for indexing</li>
<li>46d73b21a Enhance TOC entries adding name and path elements</li>
<li>a0301e2d3 Add support for indexing trafficgen results</li>
<li>3979307e6 Fixes for indexing</li>
<li>42bcd1e30 Update README to detail option of downloading packages from private registry using npm and yarn config files.</li>
<li>c330ee7fb Fix two bugs in server ansible playbooks.</li>
<li>ed7eb8b72 Fix the creation of the reception area(s)</li>
<li>712b689c6 adds unit test for checking fio data metric</li>
<li>affe21a73 fixes rendering of primary metric values' mean</li>
<li>ac202cab4 Update README for using dashboard playbooks</li>
<li>fb8d658f3 Fix mocking of python's time.time() method</li>
<li>f8051a5a7 Fix server-reports index names</li>
<li>acb2ef64b Add missing tool data indexing crontab entry</li>
<li>a5d6148d0 Fix permissions of `id_rsa` key file</li>
<li>d09c00b9d pbench-run-benchmark: bugfix for command logging</li>
<li>733b2f15b Enhanced status reporting for tracking</li>
<li>dbe6f5fac Implement multi-upload API for objects size more than 5 GB</li>
<li>2cb2c6718 Deprecate shim-001 from pbench hierarchy</li>
</ul>
</div>
</div>
</div>


<div id="outline-container-orgbd58b95" class="outline-2">
<h2 id="orgbd58b95">Version 0.64</h2>
<div class="outline-text-2" id="text-orgbd58b95">
<p>
This is an <b>agent-only</b> release. We are testing a new server RPM in the staging environment,
but we are not quite ready to run it in production yet.
</p>
</div>

<div id="outline-container-orga6c6e82" class="outline-3">
<h3 id="orga6c6e82">Installation</h3>
<div class="outline-text-3" id="text-orga6c6e82">
<p>
There are ansible playbooks to install <code>pbench-agent</code> and the pieces
needed (key and config files) to be able to send results to a server.
</p>

<p>
There are no other installation changes in this release: see the
<a href="../agent/installation.html">Installation Instructions</a> for how to install or update.
</p>

<p>
After installation or update, you should have version 0.64-1g67eb14bb
of the pbench-agent RPM installed.
</p>
</div>
</div>

<div id="outline-container-org03de9a0" class="outline-3">
<h3 id="org03de9a0">agent</h3>
<div class="outline-text-3" id="text-org03de9a0">
<p>
Most of the visible agent changes are to the <code>pbench-run-benchmark</code>
script which is intended to eventually replace all the
benchmark-specific scripts.  Currently, <code>fio</code> is supported with
<code>uperf</code> coming in v0.65. The script supports both the current
<code>results.json</code> output that we use for indexing <b>and</b> its eventual
replacement: CDM (Common Data Model). We are planning to document this
for v0.65 and ask for volunteers to start testing it. The goal is to
eventually deprecate <b>all</b> existing benchmark scripts.
</p>

<p>
Some other significant changes to <code>pbench-agent</code>:
</p>

<ul class="org-ul">
<li>The perl Switch dependency is <b>gone</b> - and there was rejoicing
throughout the land.</li>
<li><code>pbench-move-results</code> now makes use of two scripts that are user-visible:
<code>pbench-make-result-tb</code> creates a results tar ball, <code>pbench-copy-results-tb</code>
moves/copies the tar ball to the server. These components can then be used
independently as well.</li>
</ul>
</div>
</div>

<div id="outline-container-org29d5bb4" class="outline-3">
<h3 id="org29d5bb4">server</h3>
<div class="outline-text-3" id="text-org29d5bb4">
<p>
This is an agent-only release. There are no new server RPMs produced,
but there <b>are</b> significant changes to the server code that we are
planning to test in the staging environment before finally pushing them
to production. THe most significant changes affect the speed of the
indexer:
</p>

<ul class="org-ul">
<li>We no longer unpack the tar ball a second time, as we did earlier.
Instead, we unpack it once normally and then use the unpacked tar ball
when indexing.</li>
<li>The indexer is split into two: one part to index run, TOC and results
data which are relatively small and can be done quickly and one part
to index tool data which are much larger and can potentially take a long
time. Indexing the run, TOC and results data quickly will allow the
dashboard to find results much quicker than currently. The tool data
will be missing of course, until the second part of the indexer finishes,</li>
<li>We now have the capability to back up tar ball to the S3 service on datahub.</li>
<li>There are ansible playbooks for deploying the server.</li>
</ul>
</div>
</div>

<div id="outline-container-orga688c37" class="outline-3">
<h3 id="web-server-0.64">web-server</h3>
<div class="outline-text-3" id="text-web-server-0.64">
<p>
This is an agent-only release. There are no new web-server RPMs produced.
</p>
</div>
</div>

<div id="outline-container-org13b1300" class="outline-3">
<h3 id="org13b1300">Changelog</h3>
<div class="outline-text-3" id="text-org13b1300">
<p>
This is the list of visible commits since v0.63:
</p>

<ul class="org-ul">
<li>67eb14bb4 Version bump: 0.64</li>
<li>4437fe927 Added configuration documentation</li>
<li>343f6b607 pbench-*-tools: fixup some iteration related issues</li>
<li>c3ea38a0a reformat fio-postprocess to use if/elsif instead of switch</li>
<li>a7e64a057 Update fio-postprocess to use if/elsif instead of switch</li>
<li>6cb1faac1 pbench-run-benchmark and cdm updates:</li>
<li>1f5b4e195 Break pbench-index into two indexers: run/result &amp; tools</li>
<li>15bc32500 Make pbench-index take advantage of unpacked tbs</li>
<li>4b016dd33 Create a pbench "indexer" module</li>
<li>e70923a87 Add "@generated-by" indexing info for tracking</li>
<li>88ae43c21 Remove the pbench-index debug timing code</li>
<li>f87cd24ba Remove a few global variables in pbench-index</li>
<li>0a4659f32 Various fixes to server side unit tests</li>
<li>d90446cda Remove obsolete &#x2013;indexing-errors argument</li>
<li>7260bf8d2 Remove user-metadata opt from server invocation</li>
<li>2da19c7a7 Remove move-unpacked; unpack additional states</li>
<li>67f8b18d0 A few cleanups for pbench-dispatch.sh</li>
<li>c9a1ee357 Enable dispatch-states in the server default</li>
<li>199251072 update the closest samples index handling</li>
<li>2fa4a2812 Break up pbench-move-results into components</li>
<li>1eb2f91c5 Add raw_size run variable for tar balls</li>
<li>d9b26e680 Fix name of path_tokenizer</li>
<li>81cce2e3c Fix server reports index, and report status</li>
<li>0252831a8 Override the apache_options in the geerlinguy.apache role.</li>
<li>d94cebaea Address review comments.</li>
<li>813879ea8 Partially address review comments.</li>
<li>81cfa8210 Server installation ansible playbooks and roles.</li>
<li>8ec25dcbb Eliminate some variables from pbench-server-default.cfg</li>
<li>2d966deb8 PbenchBase.pm: add required metadata log for benchmark run name</li>
<li>39763c07a fixup iteration naming for pbench-run-benchmark</li>
</ul>
</div>
</div>
</div>



<div id="outline-container-orgec65f7c" class="outline-2">
<h2 id="orgec65f7c">Version 0.63</h2>
<div class="outline-text-2" id="text-orgec65f7c">
<p>
We have a <a href="https://github.com/distributed-system-analysis/pbench/blob/master/media/full-color.png">logo</a>!
</p>

<p>
This is an <b>agent-only</b> release.
</p>
</div>

<div id="outline-container-orgcba736f" class="outline-3">
<h3 id="orgcba736f">Installation</h3>
<div class="outline-text-3" id="text-orgcba736f">
<p>
There are ansible playbooks to install <code>pbench-agent</code> and the pieces
needed (key and config files) to be able to send results to a server.
</p>

<p>
There are no other installation changes in this release: see the
<a href="../agent/installation.html">Installation Instructions</a> for how to install or update.
</p>

<p>
After installation or update, you should have version 0.63-1g92746e14
of the pbench-agent RPM installed.
</p>
</div>
</div>


<div id="outline-container-org93b549d" class="outline-3">
<h3 id="org93b549d">agent</h3>
<div class="outline-text-3" id="text-org93b549d">
<p>
The main change to the agent is the move to python3: all python
scripts now explicitly require python3. In environments other than
RHEL7 python3 is provided natively, whereas in RHEL7 it is provided by
SCL, but that is invisible to pbench users.
</p>

<p>
One implication of the move to python3 is that RHEL6 will be even less
well supported than it has been up to now: at the moment, both the
pbench-sysstat package and the configtools package are broken on
RHEL6. The move to python3 is going to accelerate that trend. Our
current plan is to fix the existing problems to allow v0.62 to be a
working version of pbench-agent for RHEL6, but it will be the last
working version on RHEL6: people will still be able to run benchmarks;
they just won't be able to run the latest bits. If there are specific
bug fixes that might make sense to backport, we might do that as time
permits.
</p>

<p>
The <code>pbench-moongen</code> script has been now removed from the tree, as
previously announced. See the release notes for v0.62 for more
details.
</p>
</div>
</div>

<div id="outline-container-org1fa1f37" class="outline-3">
<h3 id="org1fa1f37">server</h3>
<div class="outline-text-3" id="text-org1fa1f37">
<p>
This is an agent-only release. There are no new server RPMs produced.
</p>
</div>
</div>

<div id="outline-container-orgdb72cd1" class="outline-3">
<h3 id="web-server-0.63">web-server</h3>
<div class="outline-text-3" id="text-web-server-0.63">
<p>
This is an agent-only release. There are no new web-server RPMs produced.
</p>
</div>
</div>

<div id="outline-container-orgde5e3b8" class="outline-3">
<h3 id="orgde5e3b8">Changelog</h3>
<div class="outline-text-3" id="text-orgde5e3b8">
<p>
This is the list of visible commits since v0.62:
</p>

<ul class="org-ul">
<li>92746e145 Fix the rest of the bench scripts.</li>
<li>629d5140d Create the iterations file after benchmark_run_dir is created.</li>
<li>781f5ff35 Fix bench-scripts/unittests to <b>not</b> create the benchmark run dir.</li>
<li>dbf945e12 PbenchCDM.pm: bugfix</li>
<li>59fe7444a pbench-run-benchmark: variable scope bugfix</li>
<li>92b18dcbe pbench-gen-iterations: introduce concept of iparams</li>
<li>852685edd pbench-gen-iterations: sort parameter keys to ensure consistent ordering of iteration arguments</li>
<li>8b7ca55d0 Version bump: v0.63</li>
<li>ec328c4f9 fio-postprocess-cdm: fix syntax error</li>
<li>aa534255b move .iterations files to pbench run directory</li>
<li>244d164ee removed broken link in readme</li>
<li>b1056e4c2 Update eslint-config-prettier version</li>
<li>b97b011a3 Resolve e2e tests on dashboard entrypoints</li>
<li>3846567d2 Remove moongen.</li>
<li>9598052f7 Move pbench-agent to python3</li>
<li>8eb17c542 Remove needless missing file output for util-scripts</li>
<li>c47b1f045 Add ability to test fio-postprocess-viz.py</li>
<li>2630fa82e Refactor to fix and clean up prom-met-pp</li>
<li>e4835f460 Add datalog unit tests; fix prometheus-metrics</li>
<li>6f9d4b6ac Add path analyzer for indexing ToC data</li>
<li>6563b0fff resolve time inconsistency issue</li>
<li>4a925c299 pbench with insights data collection updated</li>
<li>4725244ed pbench with insights data collection</li>
<li>1a31e31cf Create local storage key via window pathname to maintain unique dashboard deployments across one host</li>
<li>b0379a933 Render new pbench logo with SiderMenu component and replace favicon</li>
<li>d1b59d3f9 Add official pbench logs from Mary Shakshober</li>
</ul>
</div>
</div>
</div>


<div id="outline-container-org4a75f52" class="outline-2">
<h2 id="org4a75f52">Version 0.62</h2>
<div class="outline-text-2" id="text-org4a75f52">
<p>
This is an <b>agent-only</b> release. It contains a few fixes for problems
that were found when we were trying to release v0.61. Because of those
problems, we decided to <b>NOT</b> release v0.61 at all.
</p>
</div>

<div id="outline-container-org867a1e1" class="outline-3">
<h3 id="org867a1e1">Installation</h3>
<div class="outline-text-3" id="text-org867a1e1">
<p>
There are ansible playbooks to install <code>pbench-agent</code> and the pieces
needed (key and config files) to be able to send results to a server.
</p>

<p>
There are no other installation changes in this release: see the
<a href="../agent/installation.html">Installation Instructions</a> for how to install or update.
</p>

<p>
After installation or update, you should have version 0.62-1ge426e8d6
of the pbench-agent RPM installed.
</p>
</div>
</div>


<div id="outline-container-org5c2fa3c" class="outline-3">
<h3 id="org5c2fa3c">agent</h3>
<div class="outline-text-3" id="text-org5c2fa3c">
<p>
The main changes to the agent involve the <code>pbench-fio</code> benchscript.
It has been cleaned up substantially and should now work properly
for shared fs setups.
</p>

<p>
In addition, the automatic creation of <code>/var/lib/pbench-agent</code> which
was broken in v0.60, has been restored.
</p>

<p>
The <code>pbench-moongen</code> script has been deprecated since v0.60 and was
scheduled to be removed completely in v0.61. Because of the problems
with v0.61, we failed to remove it from the tree.  It will be gone in
v0.63. If you are still using it, you have until then to migrate to
<code>pbench-trafficgen</code> (see the <code>--traffic-generator</code> option of
<code>pbench-trafficgen</code>, the <code>moongen-txrx</code> value in particular).
</p>

<p>
The problem described in issues #1161 and #1214 (failure to produce a
sosreport and bogus error message) were fixed in v0.60 but we had a
ripple effect problem with the indexer. That has been temporarily
patched (PR#1259): a more thorough fix will be in v0.63 (issue #1263).
</p>

<p>
There are now RHEL8 <code>pbench-agent</code> RPMs available in the COPR repo, as
well as RPMs that it depends on: <code>pbench-fio</code>, <code>pbench-uperf</code>,
<code>pbench-sysstat</code>, <code>configtools</code>. RPMs for other benchmarks are going
to be provided in the future (if you need one, let us know and we'll
prioritize).  In addition, there are <code>aarch64</code> RPMs for both RHEL7 and
RHEL8 now.  One caveat: there is no <code>librbd1-devel</code> package for RHEL8,
so the <code>pbench-fio</code> RPM does not include RBD capabilities currently.
</p>
</div>
</div>

<div id="outline-container-orgc085124" class="outline-3">
<h3 id="orgc085124">server</h3>
<div class="outline-text-3" id="text-orgc085124">
<p>
This is an agent-only release. There are no new server RPMs produced.
</p>
</div>
</div>

<div id="outline-container-org8e647fb" class="outline-3">
<h3 id="web-server-0.62">web-server</h3>
<div class="outline-text-3" id="text-web-server-0.62">
<p>
This is an agent-only release. There are no new web-server RPMs produced.
</p>
</div>
</div>

<div id="outline-container-orgfc5ba3b" class="outline-3">
<h3 id="orgfc5ba3b">Changelog</h3>
<div class="outline-text-3" id="text-orgfc5ba3b">
<p>
This is the list of visible commits since v0.60:
</p>

<ul class="org-ul">
<li>e426e8d6 (HEAD -&gt; master, tag: v0.62, dsa/master) v0.62: version bump</li>
<li>7d284f5b Verify handling of sosreports with host directory</li>
<li>5241393c Make shared-fs fio job file work similar to non-shared</li>
<li>ff94ef9f Update the version of the pbench-fio package required to 3.12.</li>
<li>f581e328 Query dashboard datastoreConfig on page entrypoints</li>
<li>63be7664 (tag: v0.61, foo) v0.61: version bump</li>
<li>f60d73bc Modify PbenchConfig.timestamp() to return string in proper format</li>
<li>020a8451 (origin/master, origin/HEAD) Rewrite backup tar balls to support S3</li>
<li>1bfb91c1 Add additional fio argument check &amp; unit tests</li>
<li>07778112 Reduce redundant test setup operations</li>
<li>fbb91c19 Rename bench-scripts test dir to pbench-agent</li>
<li>c7d40b73 Remove redundancy in pbench-fio operations</li>
<li>3dc8ea03 Add pbench-fio unit tests for examples in docs</li>
<li>9546a9a6 Use $dev instead of $targets for $job_mode</li>
<li>4b0e617c Add support for distributed shared filesystems w fio</li>
<li>8aae0f78 Add polling mechanism to wait for fio-server</li>
<li>0961a08d Move start/stop tools closer to fio command</li>
<li>a9db3b0e Only run histograms if fio lat log files exist</li>
<li>9b28fdf5 Rework method of testing pbench-fio in unit tests</li>
<li>b06bc919 Add use of proper config for test-20</li>
<li>cc522c72 Clearly mark pbench metadata.log output in unit tests</li>
<li>15675691 Mock out pbench-collect-sysinfo in bench-scripts UT</li>
<li>f89a05b5 Small fixes for bench-scripts test-19 and -20</li>
<li>1ddfcd7a Add additional pbench-fio help text for &#x2013;job-mode</li>
<li>28a6b879 Perform fio device check before we mark as running</li>
<li>1ce24780 Fix help text for fio &#x2013;file-size &amp; &#x2013;block-sizes</li>
<li>6486b0ab Refactoring of fio_create_jobfile</li>
<li>1bd3c045 Fix iteration port filtering and clearing for Summary and Comparison Select pages</li>
<li>bb2b49bb Resolve linting errors</li>
<li>e6df2612 Fix uperf runtime padding</li>
<li>1fccc482 PbenchBase.pm: update comment</li>
<li>099c6910 add remote output monitor to pbench-run-benchmark-sample</li>
<li>31b0def3 PbenchAnsible.pm: preserve file mode in copy_files_to_host</li>
<li>a0268f75 (gurbir/master) Reference selectedIterations via global redux store namespace to support session sharing routing to run comparison pages</li>
<li>51a90519 Integrate Explore page for discovering and launching shared dashboard sessions.</li>
<li>9a78a3d8 Filter iteration hostname &amp; ports by `all` keyword on component mount</li>
<li>eb7772bf Matrix visualization for increase/decrease in percentage for comparison cluster</li>
<li>ed18ce89 pbench-move-results: Quote variables in conditional expressions</li>
<li>247a6da2 Add iteration port filtering</li>
<li>4584197a e2e testing for controller, results, and search pages using Puppeteer</li>
<li>6bdb7c70 Wrap jschart with React component for handling reloading/resetting</li>
<li>316415a9 Add collection of online CPU status for mpstat</li>
<li>2e1c3b0e Some commit updates based review of PR #1207</li>
<li>3424a8f1 Restore creation of pbench_run directory</li>
<li>fbecac01 Fix collection of sosreports to recognize tb names</li>
</ul>
</div>
</div>
</div>


<div id="outline-container-org326f0b8" class="outline-2">
<h2 id="org326f0b8">Version 0.61</h2>
<div class="outline-text-2" id="text-org326f0b8">
<p>
This was never officially released because we found problems during testing.
We instead added the small number of necessary fixes and will release version
0.62 directly.
</p>
</div>
</div>


<div id="outline-container-orgd125709" class="outline-2">
<h2 id="orgd125709">Version 0.60</h2>
<div class="outline-text-2" id="text-orgd125709">
<p>
This is an <b>agent-only</b> release.
</p>
</div>

<div id="outline-container-org6b3ecc4" class="outline-3">
<h3 id="org6b3ecc4">Installation</h3>
<div class="outline-text-3" id="text-org6b3ecc4">
<p>
There are ansible playbooks to install <code>pbench-agent</code> and the pieces
needed (key and config files) to be able to send results to a server.
</p>

<p>
There are no other installation changes in this release: see the
<a href="../agent/installation.html">Installation Instructions</a> for how to install or update.
</p>

<p>
After installation or update, you should have version 0.60-1gc9e89f8f
of the pbench-agent RPM installed.
</p>
</div>
</div>


<div id="outline-container-org90e0010" class="outline-3">
<h3 id="org90e0010">agent</h3>
<div class="outline-text-3" id="text-org90e0010">
<p>
N.B. The <code>pbench-moongen</code> script is deprecated in this release.  <b>It
will disappear completely in a future release</b>: whatever release
happens on or after 2019-06-30. If you are still using it, you have
until then to migrate to <code>pbench-trafficgen</code> (see the
<code>--traffic-generator</code> option of <code>pbench-trafficgen</code>, the
<code>moongen-txrx</code> value in particular).
</p>

<p>
This release includes work on the sysstat postprocessing scripts,
mainly to make them CDM compatible, although some problems have been
fixed as well.
</p>

<p>
This release can (optionally) use stockpile to gather additional
information. The functionality has not been fully vetted yet: in
particular, it needs documentation.
</p>

<p>
The problem described in issue #1161 (failure to produce a sosreport)
has been fixed: sosreports are now produced properly.. However, there
is a bug that causes an error message to report that no sosreport has
been produced: that is incorrect. This has been filed as issue #1214
and will be fixed in the next release.
</p>
</div>
</div>

<div id="outline-container-orge74c5e9" class="outline-3">
<h3 id="orge74c5e9">server</h3>
<div class="outline-text-3" id="text-orge74c5e9">
<p>
This is an agent-only release. There are no new server RPMs produced.
</p>
</div>
</div>

<div id="outline-container-org9218d44" class="outline-3">
<h3 id="web-server-0.60">web-server</h3>
<div class="outline-text-3" id="text-web-server-0.60">
<p>
This is an agent-only release. There are no new web-server RPMs produced.
</p>
</div>
</div>

<div id="outline-container-org277e726" class="outline-3">
<h3 id="org277e726">Changelog</h3>
<div class="outline-text-3" id="text-org277e726">
<p>
This is the list of visible commits since v0.59:
</p>

<ul class="org-ul">
<li>c9e89f8f Version bump: 0.60</li>
<li>5a4f3d96 Reference pbench_install_dir enviroment variable</li>
<li>9fe5a59e mpstat-postprocess: fix spelling</li>
<li>88cfc73d mpstat-postprocess: assume online when file is missing</li>
<li>a3e7453c pidstat-postprocess: fix typo</li>
<li>685b555e iostat/mpstat fixes, typos, indentation, misc -use cpu_is_online -clarify why mpstat 'all' stat is not used for CDM -fix typos in comments -fix indentation</li>
<li>413a1413 sar-postprocess: kbswap: name_format does not belong in 'names' section</li>
<li>03c0f12b PbenchCDM.pm: fix hash reference</li>
<li>c2aec527 Add -cdm files in ./postprocess -iostat-postprocess-cdm file removed -symlinks added for iostat/mpstat/sar/pidstat -pbench-postprocess-tools-cdm finds -cdm files and calls them</li>
<li>374ba4ec gold files: fix multicast and nfd client stats</li>
<li>2ee96530 pbench-postprocess-tools-cdm: fix $sample_dir and args</li>
<li>5b588c15 sar-postprocess: add CDM and speed up processing -calling `date` done once instead of every line</li>
<li>739f59cb pidstat-postprocess: add CDM generation</li>
<li>a298fdc2 mpstat-postprocess: add CDM capability, speed up processing -don't use backticks to check cpu -online every time</li>
<li>4df4d662 iostat-postprocess: add ability to generate CDM</li>
<li>97694b63 SysStat.pm: add sar, mpstat, and cpu-topology subs</li>
<li>c8462e0b PbenchCDM.pm: multiple fixes -metric field name descriptors in their own subsection ('names') to not  clash with other field names like 'type' or 'class' -more error checking when logging a metric sample -extra output on error checking when logging a metric sample -use interval if provided to get first begin_timestamp</li>
<li>0ec61fd5 Integrate umi-request for handling network request errors (#1181)</li>
<li>db70ccc7 Add support to run stockpile as part of collect sysinfo</li>
<li>0e6fa133 Apply prettier configuration to all js source files</li>
<li>fcf99ee9 Rendering multiple controllers' title properly</li>
<li>2ebc86ed Fix use of sosreport for version 3.5.1 and later</li>
<li>da059085 Update dashboard assets with new Red Hat logo</li>
<li>5b66c906 Resolve 404 error for loading dashboard favicon assets</li>
<li>11255392 Fix util-scripts unit tests to report parameters</li>
<li>7d57f5e2 Refactor agent to use envi for perl module paths</li>
<li>ce749f04 Merge branch 'arcolife-collectd'</li>
<li>20699cab append '-o collectd' plugin while running sosreport</li>
<li>4b252d08 Fix indexing multiple benchmark parameters</li>
<li>583bca05 Reduce server unit tests time</li>
<li>75d6631e pbench-moongen: add deprecation warning</li>
<li>4381d75e Refactor to add TS envi var from python</li>
<li>331e14fa Add timing to server unit tests</li>
<li>31135208 Fix closest sample assignment to iteration metadata in preprocessing</li>
</ul>
</div>
</div>
</div>


<div id="outline-container-orgb4f75a7" class="outline-2">
<h2 id="orgb4f75a7">Version 0.59</h2>
<div class="outline-text-2" id="text-orgb4f75a7">
<p>
This is an <b>agent-only</b> release.
</p>
</div>

<div id="outline-container-orgb57d7bc" class="outline-3">
<h3 id="orgb57d7bc">Installation</h3>
<div class="outline-text-3" id="text-orgb57d7bc">
<p>
There are ansible playbooks to install <code>pbench-agent</code> and the pieces
needed (key and config files) to be able to send results to a server.
</p>

<p>
There are no other installation changes in this release: see the
<a href="../agent/installation.html">Installation Instructions</a> for how to install or update.
</p>

<p>
After installation or update, you should have version 0.59-1g68efd295
of the pbench-agent RPM installed.
</p>
</div>
</div>


<div id="outline-container-org5600a2a" class="outline-3">
<h3 id="org5600a2a">agent</h3>
<div class="outline-text-3" id="text-org5600a2a">
<p>
This release includes a fix for a serious pidstat postprocessing
problem, which caused pidstat files to not be produced.
</p>

<p>
It also includes work on pbench-run-benchmark in order for it to
produce CDM-compliant output. Note that this code (as well as
pbench-run-benchmark) is beta code: we would appreciate bug reports
(please open an issue!), as well as reports of success in using it.
</p>

<p>
There is a known problem in this release (issue #1161): the current
3.6 sosreport release does not support the "general" and "lsbrelease"
plugins of previous versions and exits without producing a
sosreport. Although we were planning to fix it for v0.59, we didn't
get around to it. This bug will be fixed in the next release of
pbench.
</p>
</div>
</div>

<div id="outline-container-org058d76c" class="outline-3">
<h3 id="org058d76c">server</h3>
<div class="outline-text-3" id="text-org058d76c">
<p>
This is an agent-only release. There are no new server RPMs produced.
</p>
</div>
</div>

<div id="outline-container-org3214ab4" class="outline-3">
<h3 id="web-server-0.59">web-server</h3>
<div class="outline-text-3" id="text-web-server-0.59">
<p>
This is an agent-only release. There are no new web-server RPMs produced.
</p>
</div>
</div>

<div id="outline-container-org1d23bc9" class="outline-3">
<h3 id="org1d23bc9">Changelog</h3>
<div class="outline-text-3" id="text-org1d23bc9">
<p>
This is the list of visible commits <b>in the agent</b> since v0.58:
</p>

<ul class="org-ul">
<li>8efd295  Version bump</li>
<li>05c463e3 trafficgen-postprocess: bug fix for cumulative data processing</li>
<li>ae74b4aa pbench-run-benchmark-sample: capture postprocessing STDERR along with STDOUT</li>
<li>c5d40acd trafficgen.json: improve param_regex to be less greedy</li>
<li>9b1aead8 trafficgen.json: add warmup trial options</li>
<li>23070e8c trafficgen.json: always force profiler data processing for all trials</li>
<li>439150da trafficgen-postprocess-cdm: add TRex profiler metric processing</li>
<li>dcf665cb trafficgen-postprocess-cdm: move some processing out of the dev pair loop</li>
<li>66839208 trafficgen-postprocss-cdm: update to CDMv4</li>
<li>029e1506 trafficgen-postprocess: update logic to locate binary-search.json</li>
<li>4b7dfd99 pbench-run-benchmark: add support for &#x2013;pre-sample-cmd</li>
<li>7f709fe5 Helper functions for CDM for metrics -Used for postprocess scripts for tools or benchmarks -Log data samples with log_cdm_metric_sample, which populates  hash -Call gen_cdm_metric_data once all samples are logged to generate  ndjson files for metric_desc and metric_data documents</li>
<li>d7929fee Fixup metric id usage for fio and iostat and process multi jobs for fio</li>
<li>a524471e pbench-import-cdm: support cdmv4, exit on response error -NDJSON used for metric_data and metric_desc -parse ES response and exit if there's an error</li>
<li>465e029d pbench.json: don't include comments in the JSON -embedding comments is not really supported in JSON,  and pbench libs no longer try to strip comments out</li>
<li>29eb0f86 fio.json: use the sameversion of fio we bundle with pbench</li>
<li>15aa298f cdm-get-result/iterations: query CDM for run info -cdm-get-iterations provides a list of iteration ids -cdm-get-result provides a benchmark result for a iteration -this is a work-in-progress</li>
<li>9628c5cf iostat-postprocess-cdm: support the metric_desc and metric_data cdmv4 format</li>
<li>bf8c3ac4 fio-postprocess-cdm: support the metric_desc and metric_data cdmv4 format</li>
<li>2dd966f5 pbench-run-benchmark-sample: support postprocess-only -to be used with pbench-run-benchmark with &#x2013;postprocess-only</li>
<li>bc7ea29c pbench-run-benchmark: support a postprocess-only mode -using &#x2013;postprocess-only will re-run the benchmark's postprocessing  script and regenerate the CDM documents</li>
<li>84ea69f2 PbenchCDM.pm: update cdm_ver, comma-&gt;whitesp some fields, split metric docs -CommonDataModel version separates the version number (int) from the release  ('dev' or 'prod') as well as ensuring the ES field value for cdm_ver is only  an interger.  The release value is used in the index names only. -Values for field names clients, servers, tags, and tool_names have their  contents converted from comma-delimited to space delimited to work with  whitespace analyzer. -Metric doc split into two docs: first one is for metadata (metric_desc) and  second one is for actual data (metric_data).  Metric_data docs are still  one per sample and still include a begin and end timestamp, but also have  a metric.id which is shared with the metric_desc doc.  Queries to find  a specific metric are now made against metric_desc, and once the desired  metric is foumnd, its data is queried against metric_data by using the  metric.id (and possibly other terms such as begin/end being &gt;,&lt;,= specific  value.  Splitting metadata and data into two docs reduces space by about  50%.</li>
<li>8238771b PbenchBase.pm: fix remove_params, update JSON calls -remove_params: would not remove multiple &#x2013;myarg=myvalue -JSON: use OO notation which should be portable across different modules (native, XS) -other minor cleanup</li>
<li>5aabdae8 pidstat-convert: use md5 for filenames - using $cmd for filenames would sometimes not work - md5_hex should not have problems when used as a filename - $cmd to md5 stored in memory and not needed later</li>
</ul>
</div>
</div>
</div>


<div id="outline-container-org6ab69a0" class="outline-2">
<h2 id="org6ab69a0">Version 0.58</h2>
<div class="outline-text-2" id="text-org6ab69a0">
</div>
<div id="outline-container-org64b0129" class="outline-3">
<h3 id="org64b0129">Installation</h3>
<div class="outline-text-3" id="text-org64b0129">
<p>
There are ansible playbooks to install <code>pbench-agent</code> and the pieces
needed (key and config files) to be able to send results to a server.
</p>

<p>
There are no other installation changes in this release: see the
<a href="../agent/installation.html">Installation Instructions</a> for how to install or update.
</p>

<p>
After installation or update, you should have version 0.58-1gb64aef2
of the pbench-agent RPM installed.
</p>
</div>
</div>


<div id="outline-container-org212a246" class="outline-3">
<h3 id="org212a246">agent</h3>
<div class="outline-text-3" id="text-org212a246">
<p>
The main change in this release is that now pbench requires the 12.0.3
version of the sysstat tools. pbench-sysstat RPMs for this version are
available in the COPR repos. There is no need to install a
pbench-sysstat RPM explicitly, but it's a good idea to remove and
re-register the set of tools that you use: that will install the RPM
and it there are any problems, it will alert you to them and allow for
remedial action.
</p>

<p>
This version of the systat tools has changed the output of some tools,
which in turn has necessitated changes to pbench postprocessing
scripts for these tools (sar, iostat, pidstat). Please keep an eye out
for any strange data in the output of these tools.
</p>

<p>
In addition, the bpftrace tool was added in this release.
</p>

<p>
There is a known problem in this release (issue #1161): the current
3.6 sosreport release does not support the "general" and "lsbrelease"
plugins of previous versions and exits without producing a
sosreport. This bug will be fixed in the next release of pbench.
</p>
</div>
</div>

<div id="outline-container-org2290140" class="outline-3">
<h3 id="org2290140">server</h3>
<div class="outline-text-3" id="text-org2290140">
<p>
There are no changes to the server code in this release.
</p>
</div>
</div>

<div id="outline-container-org0430921" class="outline-3">
<h3 id="web-server-0.58">web-server</h3>
<div class="outline-text-3" id="text-web-server-0.58">
<p>
There are no changes but a 0.58-1gb64aef2 RPM has been built on COPR (just
to make sure it still builds correctly.)
</p>
</div>
</div>

<div id="outline-container-orgfb47610" class="outline-3">
<h3 id="orgfb47610">Changelog</h3>
<div class="outline-text-3" id="text-orgfb47610">
<p>
This is the list of visible commits since v0.57:
</p>

<ul class="org-ul">
<li>b2f9d48c Version bump</li>
<li>4efb33ee Travis CI integration with pbench dashboard</li>
<li>218f0dbf Integrate Jest and Enzyme for React component unit testing</li>
<li>e5d06658 Add env var for server unit test parallelism</li>
<li>ed6748b8 Add sar support for sysstat-12.0.3</li>
<li>73a325f3 Add iostat support for sysstat-12.0.3</li>
<li>ce858508 Add pidstat support for sysstat-12.0.3</li>
<li>2e15d5af Update to sysstat v12.0.3</li>
<li>6487b75b Rearrange sar-postprocess code to match order in file</li>
<li>c0b14090 Rework sar 11.2.0 data support</li>
<li>c26eb59f Rename pidstat, pidstat-0 &amp; pidstat-0 to pidstat-1</li>
<li>29e358ba Remove unneeded sample data from fio-0 post-processing</li>
<li>ad0b24b9 Remove executable permission from iostat-stdout.txt</li>
<li>382ee1da Fix non-POSIX function name in unittests</li>
<li>dc6ad57a Add a way to run all agent side unit tests</li>
<li>79375672 Integrate redux persist for persisting and rehydrating redux store</li>
<li>e66fd82a Destructure page components to reduce component rerenders</li>
<li>5699d0a6 Add bpftrace to pbench-agent-tools</li>
<li>40f2547b Use tail for all unit tests</li>
<li>6e172117 Initial dashboard backend GraphQL infrastructure</li>
<li>5889917a Reference selectedResults as an array from SearchList</li>
<li>bd3bbacf Remove `selectorIndices` logic for simple month selection</li>
<li>6b43a13d Simplify logic for comparing unit tests to run</li>
<li>325bd51a Use error_log where appropriate in sysinfo-dump</li>
<li>39de2929 Remove redundant agent-config directory</li>
<li>cbe7e86e Remove trap from agent base</li>
<li>d7d48a04 Fix flaky test-11</li>
<li>4661356b Move to Ubuntu Xenial in TravisCI w py36</li>
</ul>
</div>
</div>
</div>


<div id="outline-container-orgd9327d5" class="outline-2">
<h2 id="orgd9327d5">Version 0.57</h2>
<div class="outline-text-2" id="text-orgd9327d5">
</div>
<div id="outline-container-orga96a4cb" class="outline-3">
<h3 id="orga96a4cb">Installation</h3>
<div class="outline-text-3" id="text-orga96a4cb">
<p>
There are ansible playbooks to install <code>pbench-agent</code> and the pieces
needed (key and config files) to be able to send results to a server.
</p>

<p>
There are no other installation changes in this release: see the
<a href="../agent/installation.html">Installation Instructions</a> for how to install or update.
</p>

<p>
After installation or update, you should have version 0.57-1g2cbeba41
of the pbench-agent RPM installed.
</p>
</div>
</div>

<div id="outline-container-org3a2c8cb" class="outline-3">
<h3 id="org3a2c8cb">agent</h3>
<div class="outline-text-3" id="text-org3a2c8cb">
<ul class="org-ul">
<li>pbench-trafficgen: various fixes and enhancements.</li>
<li>ansible playbook to install key and config files.</li>
</ul>
</div>
</div>

<div id="outline-container-org2ec8d2f" class="outline-3">
<h3 id="org2ec8d2f">server</h3>
<div class="outline-text-3" id="text-org2ec8d2f">
<ul class="org-ul">
<li>index-pbench and friends: various fixes and enhancements that enable
more dashboard features.</li>
<li>ansible playbook to install config files and perform server activation.</li>
</ul>
</div>
</div>

<div id="outline-container-orge2f9935" class="outline-3">
<h3 id="web-server-0.57">web-server</h3>
<div class="outline-text-3" id="text-web-server-0.57">
<p>
There are no changes but a 0.57-1g2cbeba41 RPM has been built on COPR (just
to make sure it still builds correctly.)
</p>
</div>
</div>

<div id="outline-container-org9124e6f" class="outline-3">
<h3 id="org9124e6f">Changelog</h3>
<div class="outline-text-3" id="text-org9124e6f">
<p>
This is the list of visible commits since v0.56:
</p>

<ul class="org-ul">
<li>de6430ff Version bump: v0.57</li>
<li>e0755058 Handle @metadata.controller_dir properly</li>
<li>147f5b7b Drop redundant server-config directory</li>
<li>f2e64c11 Use @metadata.controller_dir when present</li>
<li>036d65b9 Update index document models to fix data problems</li>
<li>b75a4df9 Ensure benchmark command args are properly quoted</li>
<li>e9677699 Look for closest sample w/wo underscore</li>
<li>934726e4 Refactor parseIterationData to be a bit smaller</li>
<li>3dd765bd put back '}' in pbench-gen-iterations</li>
<li>96f2940e more whitespace fixes</li>
<li>caa85259 pbench-run-benchmark &amp; co: fix whitespace</li>
<li>047e09bc updates for run-benchmark -convert tabs to spaces -pass along tool group to metadata-log -consistently use "-" instead of "_" in %defaults and %params</li>
<li>3ab129ec spelling fix</li>
<li>fc6b5b48 Updates for pbench-run-benchmark -Perl sytnax fixes for RHEL8, explicit %{} when using "keys" -Implement pbench-metadata-log -Perl fixes, use "exists"</li>
<li>53fee0ea Use common result.json parse func on Summary page</li>
<li>8e5acaf3 Reduce repeated calls to setState() where possible</li>
<li>8bb51649 Fix sorting consistently for all pages</li>
<li>dc589414 Rendered lists of children elements should contain a unique "key" prop.</li>
<li>4ae5c191 pbench-trafficgen: address review comments</li>
<li>3c2e2723 Update pbench-trafficgen and tool-trigger -pbench-trafficgen:  -fix $config so pbench-move-results/metadata chack does not barf -get rid of []'s  -add option to choose what period in the benchmark to use tools  -use tool triggers instead of start/stop tools -pbench-tool-trigger:  -add 4th optional argument to include sample number (otherwise assume 1)</li>
<li>8b87414f Remove console log on render() for header</li>
<li>bf54133c Remove use of deprecated ant design's onRowClick</li>
<li>3a9afbe6 Address review comments</li>
<li>48b1f945 Enhance unittests script to include the web server bits</li>
<li>e3b4b5ec Ansible playbook for server post-installation</li>
<li>3569ef49 Fix sort order and proper sort by time</li>
<li>f32a3b78 Using incoming URL instead of results</li>
<li>675b7bbe Strip trailing slashes from configured URLs</li>
<li>01d33f9f Handle both pre-v1 and v1 run field names</li>
<li>b02ffff2 Delete trailing blank lines.</li>
<li>66da3fe8 Ansible playbook for installing key and config files.</li>
<li>1f8e87ea Upgrade the front-end build tool from roadhog to UmiJS</li>
<li>ecf0218a Further fixes to stop using reference-result directly</li>
<li>54a3d720 Don't require pbench-server 'environment' option</li>
<li>5f865ab0 Properly check for unittest failures</li>
<li>bcacd800 Fix and improve search UX for controllers and results</li>
<li>d04e9d2d Update base URL paths for controller and search routes</li>
<li>a4356391 Add python pbench logger and PbenchConfig class</li>
<li>230a0732 Fix server unittests to emit diff properly</li>
<li>53cf9a04 Add ignore for *~</li>
<li>c6ca2cd3 Remove spaces from field names</li>
<li>be3289f6 Adds full PDF download feature to comparison page</li>
<li>be028752 fixing run.id name for react table tree view</li>
<li>90aca8e1 Adds table tree view</li>
<li>462c2d7a Added files to the directory tree visualizer</li>
<li>175f06c2 Adds tree visualizer for directory</li>
<li>eceb7600 Ensure indexing properly cleans up extracted tar balls</li>
<li>7e1e06eb Use the already extracted sosreports</li>
<li>e3d57a99 Don't use reference-result directly, use sample1</li>
<li>c26c354e Move sed commands into common shared function</li>
<li>0fd5919d Add additional error checking to pbench-metadata-log</li>
<li>66a1c883 Stop calling metadata-log from collect-sysinfo</li>
<li>521cd430 Reduce # of util-scripts mock'd in bench-utils</li>
<li>087dc53c Remove unused kvm-host parameter</li>
<li>8e806652 Whitespace and single char param cleanup</li>
<li>63467194 Consistently handle bench scripts options &amp; help</li>
<li>90f28584 Remove unused &#x2013;kvm-host parameter for pbench-linpack</li>
<li>cbb01e18 Use created gen-bench-sum.cmd file</li>
<li>d14472e2 Fix spelling of separated/separator</li>
<li>edf9f402 Fix pbench-trafficgen to record metadata properly</li>
<li>89abda57 Fix tabs/spaces formatting</li>
</ul>
</div>
</div>
</div>


<div id="outline-container-orgea05d28" class="outline-2">
<h2 id="orgea05d28">Version 0.56</h2>
<div class="outline-text-2" id="text-orgea05d28">
</div>
<div id="outline-container-org6318490" class="outline-3">
<h3 id="org6318490">Installation</h3>
<div class="outline-text-3" id="text-org6318490">
<p>
There are no installation changes in this release: see the
<a href="../agent/installation.html">Installation Instructions</a> for how to install or update.
</p>

<p>
After installation or update, you should have version 0.56-1g94965f79
of the pbench-agent RPM installed.
</p>
</div>
</div>

<div id="outline-container-org6a3701a" class="outline-3">
<h3 id="org6a3701a">agent</h3>
<div class="outline-text-3" id="text-org6a3701a">
</div>
<ul class="org-ul">
<li><a id="org67f9ce9"></a>New pbench agent universal bench script<br />
<div class="outline-text-4" id="text-org67f9ce9">
<p>
See <a href="https://github.com/distributed-system-analysis/pbench/pull/1051">the PR page</a> for details. This PR was merged to make this new script available
for experimentation. There are probably going to be problems, so it not recommended for
general use, but the sooner we start experimenting with it, the sooner we can resolve
problems and move towards adopting it and deprecating existing bench scripts. If you
do find problems, please open issues on Github.
</p>
</div>
</li>

<li><a id="org3381004"></a>Tool triggers work again<br />
<div class="outline-text-4" id="text-org3381004">
<p>
Tool triggers were fixed to work as expected. In addition, <code>pbench-user-benchmark</code> got
a new option <code>--use-tool-triggers</code> to enable such triggers with user-provided benchmark
scripts.
</p>
</div>
</li>

<li><a id="org5292a47"></a><code>pbench-move-results</code> requires the present of <code>metadata.log</code><br />
<div class="outline-text-4" id="text-org5292a47">
<p>
Results without a <code>metadata.log</code> file cannot be indexed. That was
detected at indexing time before, but with increasing use of the
dashboard which looks to ES for results, we now enforce that on the
agent side, by having <code>pbench-move/copy-results</code> fail if it cannot
find the <code>metadata.log</code> file.
</p>

<p>
This should not affect you if you use the pbench-provided benchmark
scripts, but if you roll your own, you will probably have to modify
your script to produce the required file.
</p>

<p>
If you have questions, reach out to us: we'll help get you over the
hump.
</p>
</div>
</li>

<li><a id="orgedbdbc9"></a>perf tool postprocessing has been modified<br />
<div class="outline-text-4" id="text-orgedbdbc9">
<p>
We no longer produce the per-cpu perf data in postprocessing: that
takes a long time and it is not clear that they are useful. Instead,
we use <code>perf archive</code> to get and package <b>all</b> the data that is needed
so that any postprocessing can be done on any node (not necessarily the
node where the perf data were gathered, as was the case previously).
For more information, see <a href="https://github.com/distributed-system-analysis/pbench/pull/1047">the PR</a>.
</p>
</div>
</li>

<li><a id="orga8a6f04"></a>Reduce pidstat's disk usage<br />
<div class="outline-text-4" id="text-orga8a6f04">
<p>
De-duping pidstat output reduced its space usage by 90%. That does not
get us out of the woods yet: displaying results still taxes the browser's
resources.
</p>
</div>
</li>

<li><a id="org22673f3"></a>mpstat postprocessing bug<br />
<div class="outline-text-4" id="text-org22673f3">
<p>
Very occasionally, <code>mpstat</code> postprocessing would get wrong timestamps.
This has been fixed.
</p>
</div>
</li>

<li><a id="org805b46b"></a>Known problems and backward incompatibilities<br />
<div class="outline-text-4" id="text-org805b46b">
<p>
See the <a href="https://github.com/distributed-system-analysis/pbench/issues">issues on Github</a>.
</p>
</div>
</li>
</ul>
</div>

<div id="outline-container-org68768c6" class="outline-3">
<h3 id="org68768c6">server</h3>
<div class="outline-text-3" id="text-org68768c6">
</div>
<ul class="org-ul">
<li><a id="orga9ba859"></a>Indexing bugs fixed<br />
<div class="outline-text-4" id="text-orga9ba859">
<p>
Timestamp conversions occasionally failed, aborting the indexing.
This has been fixed.
</p>
</div>
</li>
</ul>
</div>


<div id="outline-container-orga7d91f8" class="outline-3">
<h3 id="web-server-0.56">web-server</h3>
<div class="outline-text-3" id="text-web-server-0.56">
<p>
There are no changes but a 0.56-1g94965f79 RPM has been built on COPR (just
to make sure it still builds correctly.)
</p>
</div>
</div>

<div id="outline-container-org1a55a92" class="outline-3">
<h3 id="org1a55a92">Changelog</h3>
<div class="outline-text-3" id="text-org1a55a92">
<p>
This is the list of visible commits since v0.55:
</p>

<ul class="org-ul">
<li>20664796 Version bump</li>
<li>b4c91015 Trafficgen also needs change from hostname to host for CDM</li>
<li>74d05f24 CDM: use host instead of hostname in metrics</li>
<li>e44c92c0 Fix typo.</li>
<li>5e1edecb Parallelize the unit tests</li>
<li>805a9cfa Native integration of jschart with pbench dashboard</li>
<li>ce4c7b90 Use perf archive and stop generating per-CPU reports</li>
<li>640da6a8 Fix handling of pidstat unit tests</li>
<li>5d7dea8d Fix spacing in base</li>
<li>290d9483 Use createBrowserHistory to manage session history</li>
<li>251965af Fix up jstack/jmap unit tests</li>
<li>078fa45a Update gold index.html file</li>
<li>f39de89b Fix mpstat post processing to handle timestamps properly</li>
<li>33235eae Add mpstat-1 ahead of fix to mpstat-postprocess</li>
<li>dfadcbc0 Several fix-ups for CDM and pbench-run-benchmark</li>
<li>c3359d11 Several fix-ups for CDM and pbench-run-benchmark</li>
<li>12d5ef32 Add &#x2013;no-stderr-capture flag to pbench-user-benchmark</li>
<li>3c89ab4c Drop the intermediate pbench dir in server</li>
<li>38188896 Reduce pidstat space by 90%</li>
<li>8b3e4126 Capture uperf-server logs for debugging</li>
<li>6cf6126e Ensure pbench-move/copy-results only works with metadata.log</li>
<li>45909e0e pbench-agent: implement universal bench script and CDM</li>
<li>93391fb9 Fix pbench-tool-trigger to work as expected</li>
<li>d7da22ef Ensure server unittests don't use install PATHs</li>
<li>3f7b4420 Remove installed agent PATHs in tool unittests</li>
<li>75a6e24f Add final cleanup to util-scripts unit tests</li>
<li>d745238b Add final cleanup to bench-scripts unit tests</li>
<li>32d54001 A few cleanups to pbench-postprocess-tools</li>
<li>32d6329d Fix indexing error handling timestamp conversions</li>
<li>7727e4a7 Reduce overhead for local dev by using node environment vars</li>
</ul>
</div>
</div>
</div>


<div id="outline-container-org2278374" class="outline-2">
<h2 id="org2278374">Version 0.55</h2>
<div class="outline-text-2" id="text-org2278374">
<p>
There are a few changes in the agent (see the Changelog) but most of
the changes in v0.55 are to fix the indexing on the server side. Feel
free to skip upgrading until v0.56 (which is coming very shortly).
If you are installing from scratch, you are going to get v0.55 which should
be fine (but if you run into problems, please let us know).
</p>
</div>

<div id="outline-container-orgfa00a5d" class="outline-3">
<h3 id="orgfa00a5d">Installation</h3>
<div class="outline-text-3" id="text-orgfa00a5d">
<p>
There are no installation changes in this release: see the
<a href="../agent/installation.html">Installation Instructions</a> for how to install or update.
</p>

<p>
After installation or update, you should have version 0.55-1ge87cec4
of the pbench-agent RPM installed.
</p>
</div>
</div>

<div id="outline-container-orgf7763ab" class="outline-3">
<h3 id="orgf7763ab">agent</h3>
<div class="outline-text-3" id="text-orgf7763ab">
</div>
<ul class="org-ul">
<li><a id="org738161c"></a>fio<br />
<div class="outline-text-4" id="text-org738161c">
<p>
The last known vestiges of pandas have been excised from the config files and the RPMS.
If you see any mention of pandas anywhere, please let us know.
</p>
</div>
</li>

<li><a id="orgfd8fdd6"></a>New tools<br />
<div class="outline-text-4" id="text-orgfd8fdd6">
<p>
<code>jmap</code> and <code>jstack</code> tools added to colect JVM stats.
</p>
</div>
</li>

<li><a id="org3bd8e89"></a>prom2json<br />
<div class="outline-text-4" id="text-org3bd8e89">
<p>
Allow insecure certs.
</p>
</div>
</li>

<li><a id="org1602439"></a>Known problems and backward incompatibilities<br />
<div class="outline-text-4" id="text-org1602439">
<p>
See the <a href="https://github.com/distributed-system-analysis/pbench/issues">issues on Github</a>.
</p>
</div>
</li>
</ul>
</div>

<div id="outline-container-org2870ba4" class="outline-3">
<h3 id="org2870ba4">server</h3>
<div class="outline-text-3" id="text-org2870ba4">
<p>
The indexer got a major overhaul to fix various problems. It seems to
be handling things much better now (albeit rather slowly).
</p>
</div>
</div>

<div id="outline-container-org531eebe" class="outline-3">
<h3 id="web-server-0.55">web-server</h3>
<div class="outline-text-3" id="text-web-server-0.55">
<p>
There are no changes but a 0.55-1ge87cec4 RPM has been built on COPR (just
to make sure it still builds correctly.)
</p>
</div>
</div>

<div id="outline-container-org4880b7e" class="outline-3">
<h3 id="org4880b7e">Changelog</h3>
<div class="outline-text-3" id="text-org4880b7e">
<p>
This is the list of visible commits since v0.54:
</p>

<ul class="org-ul">
<li>e87cec47 Version bump to 0.55</li>
<li>b5ceebe9 Fix pbench-move-results to only push valid results</li>
<li>c6779258 Fix assertion during error handling of index resps</li>
<li>bdcba8a4 Query prefix field in run document for summary visualization</li>
<li>d5c20033 Remove IDXCONFIG in favor of existing server cfg</li>
<li>62cc317f Validate all timestamps in run start/end</li>
<li>233e0e4f Correct result data output values</li>
<li>4a0651ad Test benchmarks supported for results data up front</li>
<li>f79960d8 Refactor error handling of result data loop</li>
<li>38894175 A few comment fixups</li>
<li>c728aab6 Ensure we don't use relative timestamps</li>
<li>828a5a87 Add file-size to tar ball metadata</li>
<li>3c2435de Explicitly only handle 'sample' results JSON</li>
<li>1de550c8 Refactor results class methods closer together</li>
<li>b053d8bc Fix expand_template to work properly</li>
<li>1e5a67c8 Drop unused convert_to_float</li>
<li>29ce5d57 Gracefully handle closed indices</li>
<li>ffdd2162 Add ability to run all tests matching a prefix</li>
<li>ba28ac8b Rename "PDash" references to "Pbench Dashboard"</li>
<li>ccd82d21 Fixes for the dashboard ansible task and playbook</li>
<li>760014d7 Move URL from pdashv2 to dashboard</li>
<li>abd14623 Initial ansible deployment workflow for dashboard</li>
<li>9e075b0a PDash_v2 initial release</li>
<li>b08c20bc Extend auditing to incoming, results, and users</li>
<li>c9328a11 Simplify PATH environment variable handling</li>
<li>082393eb Use ConfigParser instead of SafeConfigParser</li>
<li>75a53a0b Update p-rpt-sts to warn iff config file exists</li>
<li>954e270b Clarify test-5.1 &amp; test-5.2 comments</li>
<li>467bbae4 Add ability to accept unittest number</li>
<li>e6eddbdb Allow insecure certs for prom2json</li>
<li>1d068b73 Drop mailing status reports and use syslog</li>
<li>fb2cb0af Make sure JSON payload is sorted</li>
<li>19fa2ad4 adding jstack tool to collect JVM threads statistics for plain and dockerized JVM's.</li>
<li>20bc0a92 Add jmap tool.</li>
<li>abefecb0 Remove `&#x2013;directory` option from pbench-fio.</li>
<li>9b963274 Remove pandas-related stuff.</li>
<li>469893a4 pbench-report-status: fix md5 calculation.</li>
</ul>
</div>
</div>
</div>


<div id="outline-container-org983debb" class="outline-2">
<h2 id="org983debb">Version 0.54</h2>
<div class="outline-text-2" id="text-org983debb">
</div>
<div id="outline-container-org63e968b" class="outline-3">
<h3 id="org63e968b">Installation</h3>
<div class="outline-text-3" id="text-org63e968b">
<p>
There are no installation changes in this release: see the
<a href="../agent/installation.html">Installation Instructions</a> for how to install or update.
</p>

<p>
After installation or update, you should have version 0.54-1g4802e4ba
of the pbench-agent RPM installed.
</p>
</div>
</div>

<div id="outline-container-orgec63f10" class="outline-3">
<h3 id="orgec63f10">agent</h3>
<div class="outline-text-3" id="text-orgec63f10">
</div>
<ul class="org-ul">
<li><a id="orgb5e64f4"></a>fio<br />
<div class="outline-text-4" id="text-orgb5e64f4">
<ul class="org-ul">
<li>pbench-fio latency data processing has been streamlined and speeded up.
It also does not have the dependency on pandas any longer (yay!)</li>
<li>The required upstream fio version has been bumped up to 3.12.
The pbench-fio RPM on COPR has been rebuilt accordingly (but note that
the Fedora 29 build fails: this is under investigation. All the other
builds succeeded).</li>
<li>Various bugs in fio postprocessing have been fixed.</li>
</ul>
</div>
</li>


<li><a id="org6f3764a"></a>trafficgen<br />
<div class="outline-text-4" id="text-org6f3764a">
<ul class="org-ul">
<li>Updates</li>
<li>added tsdelta postprocessing</li>
</ul>
</div>
</li>


<li><a id="org8f8c7f1"></a>Known problems and backward incompatibilities<br />
<div class="outline-text-4" id="text-org8f8c7f1">
<p>
See the <a href="https://github.com/distributed-system-analysis/pbench/issues">issues on Github</a>.
</p>
</div>
</li>
</ul>
</div>

<div id="outline-container-orgcc64b4a" class="outline-3">
<h3 id="orgcc64b4a">server</h3>
<div class="outline-text-3" id="text-orgcc64b4a">
<p>
TBD - we are not going to update the servers with the new bits yet. We'll update these notes and send out an
update when we are ready.
</p>
</div>
</div>

<div id="outline-container-orgf5932d2" class="outline-3">
<h3 id="web-server-0.54">web-server</h3>
<div class="outline-text-3" id="text-web-server-0.54">
<p>
There are no changes but a 0.54-1g4802e4ba RPM has been built on COPR (just to make sure it still builds correctly.)
</p>
</div>
</div>

<div id="outline-container-orga831259" class="outline-3">
<h3 id="orga831259">Changelog</h3>
<div class="outline-text-3" id="text-orga831259">
<p>
This is the list of visible commits since v0.53:
</p>

<ul class="org-ul">
<li>4802e4ba Version bump to 0.54</li>
<li>582d9493 Require pbench-top|backup-dir in pbench-server.cfg</li>
<li>d8c68782 Fix default install and mail configs</li>
<li>5b0c992a Remove extra pbench_dir from chown</li>
<li>cb091114 Limit the length of ES error messages</li>
<li>8bf479b2 Always call pbench-report-status.</li>
<li>821dd29c Quiet curl output to reduce log file noise</li>
<li>7206eaf3 Add full test of all scripts with tar balls</li>
<li>890653dc Use pbench-index instead of index-pbench</li>
<li>0d628bfa Index uperf result data properly.</li>
<li>cb2346fa Update list of perl versions we test against</li>
<li>06c0cb14 support multiple targets while using remote clients</li>
<li>5b5e89aa Straighten out mock test command environment</li>
<li>8f59b193 Only look for linksrc state directories</li>
<li>d2d286bb Refactor pbench-dispatch to streamline</li>
<li>508546b6 Add remaining server cron scripts to unit tests</li>
<li>0fc2f327 Fix server unit test 11 to remove rsync references</li>
<li>ec476b4f Hide remaining unit test checks from scripts</li>
<li>e3c22874 Fix pbench-server-prep-shim-002 error handling</li>
<li>1bbfd78a Ensure backup tar balls doesn't include state dirs</li>
<li>4eb3f4f4 No longer need to check for LOGSDIR in audit-archive</li>
<li>d65ea1a5 Consistently handle pushd/popd error output</li>
<li>6f38fd6a Fix quarantine to ignore arguments that don't exist</li>
<li>19f0ca0b Ensure PATH has the pbench server bin dir in it</li>
<li>79558266 Clean up set-result-state script</li>
<li>f20f4367 A simple script to create a fake tar ball</li>
<li>fb13cd77 Ignore unittests.log files</li>
<li>353d96fd fio-postprocess: fix Perl syntax bug</li>
<li>289d7a2a Fix failing tests from PR #958</li>
<li>3b676881 Fio histo log pctiles (#958)</li>
<li>50dc1e45 Fix the agent conf files</li>
<li>8b508f64 openvswitch-postprocess: add support for SMC hit data</li>
<li>b8c17fa6 fio-postprocess: a few comment fixes</li>
<li>e2717ec6 fio-postprocess: more fixup to process fio options</li>
<li>977cc073 PDash V1</li>
<li>4b249cef Restore normal ln behavior for unit tests</li>
<li>21cda507 pbench-audit-archive: line up sizes in find output</li>
<li>174f0095 Copy two files instead of move two files</li>
<li>9d838e9c Fix shim 001 to move prefix file to .prefix</li>
<li>78955ec4 Initial framework for auditing the archives</li>
<li>823cdae9 trafficgen-postprocess: add tsdelta processing</li>
<li>eae9ba17 Require TOP &amp; LOGSDIR in addition to TMP</li>
<li>642165d7 pbench-move-unpacked: calc epic properly</li>
<li>a65d61ba Use server-activate for setting up unit tests</li>
<li>2dfc63de Rework unittests to use _testdir_local</li>
<li>a5a66639 Add ability of index-pbench to emit index patterns</li>
<li>1143b53f Rework pbench-move-unpacked to not use prefix</li>
<li>433cb785 pbench-ansible: allow users to set the tools interval</li>
<li>fa60b2f1 Improve unpack tar balls error handling</li>
<li>2360b67c Fix bugs, clean up crontab output, enhance unit tests</li>
<li>5fe7284e index-pbench: validated optparse from argparse</li>
<li>231b8565 Update unit test</li>
<li>3f2414ad pbench-index: Fix the inconsistent reporting of archive</li>
<li>42b3ea35 Register mpstat for openshift</li>
<li>bcc9a339 Trafficgen updates</li>
</ul>
</div>
</div>
</div>


<div id="outline-container-org7b0a521" class="outline-2">
<h2 id="org7b0a521">Version 0.53</h2>
<div class="outline-text-2" id="text-org7b0a521">
</div>
<div id="outline-container-org04f504d" class="outline-3">
<h3 id="org04f504d">Installation</h3>
<div class="outline-text-3" id="text-org04f504d">
<p>
There are no installation changes in this release: see the
<a href="../agent/installation.html">Installation Instructions</a> for how to install or update.
</p>

<p>
After installation or update, you should have version 0.53-1g786732f6
of the pbench-agent RPM installed.
</p>
</div>
</div>

<div id="outline-container-org97599ff" class="outline-3">
<h3 id="org97599ff">agent</h3>
<div class="outline-text-3" id="text-org97599ff">
<p>
The <code>pprof</code> tool got some bug fixes.
</p>

<p>
If you haven't read about the <code>--user</code> and <code>--prefix</code> options to
<code>pbench-move/copy-results</code> yet, please see the <a href="#v0.51-agent">v0.51 changes</a> for some
important information that you <b>really want</b> to know about.
</p>
</div>

<ul class="org-ul">
<li><a id="orgfaa0b33"></a>Known problems and backward incompatibilities<br />
<div class="outline-text-4" id="text-orgfaa0b33">
<p>
See the <a href="https://github.com/distributed-system-analysis/pbench/issues">issues on Github</a>.
</p>
</div>
</li>
</ul>
</div>

<div id="outline-container-org9d2ce01" class="outline-3">
<h3 id="org9d2ce01">server</h3>
<div class="outline-text-3" id="text-org9d2ce01">
<p>
The most important change was in <code>index-pbench</code> which acquired the ability
to index some more tool data: <code>mpstat</code> and <code>proc-vmstat</code>.
</p>

<p>
<code>pbench-copy-sos-reports</code>  got a bug fix.
</p>

<p>
The unit tests were enhanced in multiple ways.
</p>
</div>
</div>

<div id="outline-container-orge9c3b9d" class="outline-3">
<h3 id="web-server-0.53">web-server</h3>
<div class="outline-text-3" id="text-web-server-0.53">
<p>
No new build of the pbench web server has been made: the version available
from COPR, 0.52-1gbb9ce25, is still current.
</p>
</div>
</div>

<div id="outline-container-orge454066" class="outline-3">
<h3 id="orge454066">Changelog</h3>
<div class="outline-text-3" id="text-orge454066">
<p>
This is the list of visible (non-merge, non-unit-test-related) commits
since v0.52:
</p>

<ul class="org-ul">
<li>786732f6 Bump version to 0.53</li>
<li>0180103f Fix the unit tests</li>
<li>b4ccb630 Snip off the -UTC part of the timestamp</li>
<li>3a42dc26 update unit tests</li>
<li>e417cde7 pbench-copy-sosreports: fix the wrong state transition name</li>
<li>caa34ffd Fix index names generated by pbench-report-status</li>
<li>ae23c9b3 Use ${tool_bin} instead of "go" in pprof (#921)</li>
<li>d90052c0 Ensure pprof executes commands once per interval (#919)</li>
<li>2638f99f Force all the server scripts to use UTC</li>
<li>a4250349 Created an indexer that can handle mpstat and proc-vmstat data.</li>
<li>9677e02a Attempt to ensure unit tests pass in all env</li>
<li>d8b6a5a0 Fix server unit tests to not ignore whitespace</li>
<li>d1023f4a Remove left-over comment.</li>
</ul>
</div>
</div>
</div>


<div id="outline-container-org0da703d" class="outline-2">
<h2 id="org0da703d">Version 0.52</h2>
<div class="outline-text-2" id="text-org0da703d">
</div>
<div id="outline-container-orga928bde" class="outline-3">
<h3 id="orga928bde">Installation</h3>
<div class="outline-text-3" id="text-orga928bde">
<p>
There are no installation changes in this release: see the
<a href="../agent/installation.html">Installation Instructions</a> for how to install or update.
</p>

<p>
After installation or update, you should have version 0.52-1gbb9ce25
of the pbench-agent RPM installed.
</p>
</div>
</div>

<div id="outline-container-org46adad4" class="outline-3">
<h3 id="org46adad4">agent</h3>
<div class="outline-text-3" id="text-org46adad4">
<p>
No changes were made to the agent for this release (apart from a fix
to the help message of <code>pbench-move-results</code>). Please see the <a href="#v0.51-agent">v0.51 changes</a>
for some important information that you <b>really want</b> to know
about. 
</p>
</div>

<ul class="org-ul">
<li><a id="org597e7c6"></a>Known problems and backward incompatibilities<br />
<div class="outline-text-4" id="text-org597e7c6">
<p>
See the <a href="https://github.com/distributed-system-analysis/pbench/issues">issues on Github</a>.
</p>
</div>
</li>

<li><a id="org20fc3e9"></a>Bug fixes and enhancements<br />
<div class="outline-text-4" id="text-org20fc3e9">
<ul class="org-ul">
<li><code>pbench-move-results --help</code> now gives complete information.</li>
</ul>
</div>
</li>
</ul>
</div>

<div id="outline-container-org2fe3fb0" class="outline-3">
<h3 id="org2fe3fb0">server</h3>
<div class="outline-text-3" id="text-org2fe3fb0">
<p>
The <code>index-pbench</code> script got roto-tilled fairly extensively. Most
of the changes are designed to make it a better citizen in the ES world:
reducing the load on ES and dealing better with errors. The secong goal
was to split the indexing itself into its own module that can be used
not only by pbench (through the <code>index-pbench</code> script), but by other
clients. The next step is to move that module into its own repo.
</p>
</div>

<ul class="org-ul">
<li><a id="orge64e396"></a>Bug fixes and enhancements<br />
<div class="outline-text-4" id="text-orge64e396">
<ul class="org-ul">
<li><code>index-pbench</code>: see the changelog for the extensive set of changes.</li>
</ul>
</div>
</li>
</ul>
</div>

<div id="outline-container-orgb848a96" class="outline-3">
<h3 id="web-server-0.52">web-server</h3>
<div class="outline-text-3" id="text-web-server-0.52">
<p>
A new build of the pbench web server has been made, although it does
not include any changes from before. The version is 0.52-1gbb9ce25.
</p>
</div>
</div>

<div id="outline-container-org1665c20" class="outline-3">
<h3 id="org1665c20">Changelog</h3>
<div class="outline-text-3" id="text-org1665c20">
<p>
This is the list of visible (non-merge, non-unit-test-related) commits
since v0.51:
</p>

<ul class="org-ul">
<li>bb9ce251 (HEAD -&gt; master, tag: v0.52, dsa/master) Bump the version to v0.52</li>
<li>199cd73c Fix indexing work to improve error handling</li>
<li>956075db Ensure UTC for timezone in unittests</li>
<li>706516fc Use dictionary constructor to avoid sorting issues</li>
<li>d73c0443 Move warning about too many pids to error path</li>
<li>bb441c11 Pull es_index into its own module</li>
<li>22cb493e Differentiate mocked time fetching and ts() method</li>
<li>75472356 Rename vos/analysis/lib to pbench</li>
<li>8ddd17e1 Index into Elasticsearch with streaming_bulk() API</li>
<li>4546946b Ensure we only process tool data once</li>
<li>85fe020f Change index name prefix for unittests</li>
<li>a5046895 Refactor use of PbenchTar Ball &amp; csv handler table</li>
<li>736b3abd Check tool timestamps against run end</li>
<li>0e8a2ced Add pre-computed source IDs to each indexed doc</li>
<li>c5569317 Fix timestamp handling; move errors to counters</li>
<li>e411c654 Fix extracted column metadata when indexing</li>
<li>bf733bfc Update pbench-fio help text to fix formatting</li>
<li>24a42c93 Add &#x2013;user and &#x2013;help to pbench-{move,copy}-results usage</li>
<li>190bb254 Properly initialize the benchmark iteration file</li>
<li>67a8645a Sort unit tests more sensibly.</li>
<li>fc1c7573 Fixes for two bugs discovered when deploying the server</li>
</ul>
</div>
</div>
</div>


<div id="outline-container-org28b3858" class="outline-2">
<h2 id="org28b3858">Version 0.51</h2>
<div class="outline-text-2" id="text-org28b3858">
</div>
<div id="outline-container-orgb3287e4" class="outline-3">
<h3 id="orgb3287e4">Installation</h3>
<div class="outline-text-3" id="text-orgb3287e4">
<p>
There are no installation changes in this release: see the
<a href="../agent/installation.html">Installation Instructions</a> for how to install or update.
</p>

<p>
After installation or update, you should have version 0.51-1g8d37ba0
of the pbench-agent RPM installed.
</p>
</div>
</div>

<div id="outline-container-org6c66700" class="outline-3">
<h3 id="v0.51-agent">agent</h3>
<div class="outline-text-3" id="text-v0.51-agent">
<p>
<code>pbench-{move,copy}-results</code> has acquired a <code>--user</code> option. If you
say "pbench-move-results &#x2013;user=ndk", then the results will be
available under a new hierarchy on the server:
</p>

<p>
<a href="http://pbench.example.com/users/ndk/">http://pbench.example.com/users/ndk/</a>&lt;controller&gt;
</p>

<p>
as well as under the existing results/hierarchy:
</p>

<p>
<a href="http://pbench.example.com/results/">http://pbench.example.com/results/</a>&lt;controller&gt;
</p>

<p>
The <code>--prefix</code> option is still available and will change the hierarchy
after the &lt;controller&gt; part, e.g. <code>pbench-move-results --user=ndk --prefix=foo/bar</code>
will create entries for the current set of results under 
</p>

<p>
<a href="http://pbench.example.com/users/ndk/">http://pbench.example.com/users/ndk/</a>&lt;controller&gt;/foo/bar
</p>

<p>
and also under
</p>

<p>
<a href="http://pbench.example.com/results/">http://pbench.example.com/results/</a>&lt;controller&gt;/foo/bar
</p>

<p>
The <code>--user</code> and <code>--prefix</code> options are handled differently now: they are
part of the metadata for the run and get indexed into ES along with
the rest of the metadata. As a result, they are an immutable part of
the run: there is no way to edit them currently, although this is subject
to change. In particular, the <code>pbench-edit-prefix</code> script will not work as
it stands.
</p>

<p>
An alternative way to tag the results with a user is to set the environment
variable PBENCH_USER and export it. If you are driving pbench through your
own script, then adding
</p>
<div class="org-src-container">
<pre class="src src-shell"><span style="font-weight: bold;">export</span> <span style="font-weight: bold; font-style: italic;">PBENCH_USER</span>=ndk
</pre>
</div>
<p>
might be more convenient than modifying the invocation(s) of
<code>pbench-{move,copy}-results</code>.
</p>
</div>


<ul class="org-ul">
<li><a id="org3674d75"></a>Known problems and backward incompatibilities<br />
<div class="outline-text-4" id="text-org3674d75">
<p>
See the <a href="https://github.com/distributed-system-analysis/pbench/issues">issues on Github</a>.
</p>
</div>
</li>

<li><a id="orgabed0f9"></a>Bug fixes and enhancements<br />
<div class="outline-text-4" id="text-orgabed0f9">
<ul class="org-ul">
<li><code>pbench-move-results</code> was reworked to decouple it as much as
possible from the server implementation. As a result, the number of
ssh calls it makes to the server was reduced substantially.</li>

<li><code>pbench-trafficgen</code> got a large number of updates, including a new
traffic generator, <code>trex-txrx-profile</code>.</li>
</ul>
</div>
</li>
</ul>
</div>

<div id="outline-container-orgc069ffb" class="outline-3">
<h3 id="orgc069ffb">server</h3>
<div class="outline-text-3" id="text-orgc069ffb">
</div>
<ul class="org-ul">
<li><a id="orgee01392"></a>Known problems and backward incompatibilities<br /></li>


<li><a id="orgba2fe32"></a>Bug fixes and enhancements<br />
<div class="outline-text-4" id="text-orgba2fe32">
<ul class="org-ul">
<li>The scripts that back up tar balls and verify their integrity were
reworked after the server migration that we went through, to make
them more robust and to detect problems as early as possible.</li>

<li>status reporting by the server scripts (which now goes to ES as part
of the mail flood mitigation mentioned in the v0.50 release notes)
is improved to make the status more readable.</li>
</ul>
</div>
</li>
</ul>
</div>

<div id="outline-container-orga24c901" class="outline-3">
<h3 id="web-server-0.51">web-server</h3>
<div class="outline-text-3" id="text-web-server-0.51">
<p>
A new build of the pbench web server has been made, although it does
not include any changes from before. The version is 0.51-1g8d37ba0.
</p>
</div>
</div>

<div id="outline-container-org819c54d" class="outline-3">
<h3 id="org819c54d">Changelog</h3>
<div class="outline-text-3" id="text-org819c54d">
<p>
This is the list of visible (non-merge, non-unit-test-related) commits
since v0.50:
</p>

<ul class="org-ul">
<li>8d37ba07 (HEAD -&gt; master, dsa/master) Bump the version to 0.51</li>
<li>bcdd8dc0 pbench-trafficgen: capture trex yaml config file</li>
<li>c7d35899 (krister-873) Trafficgen updates (#858)</li>
<li>ecf68a96 (chaitanyaenr/master, pbench-fio-directory) Unit tests for pbench-copy-results and shims.</li>
<li>29984600 Decouple pbench-move-results from server</li>
<li>55a92a0b Enable actual use of rsync</li>
<li>b606d38c (python-2-3) Parallelize archive directory checks; compare file lists</li>
<li>a56fa2b5 Unit test for pbench-copy-results.</li>
<li>8cfaaf16 Handle proper setup of python3 environment for index-pbench</li>
<li>4fec3ec7 Explicitly require a specific python version</li>
<li>20787126 Enhance the unit test run environment</li>
<li>a72e2f10 Reduce use of _testroot references in server unittests</li>
<li>248fb946 Fix trailing squirly brace in unit test output</li>
<li>3f807a7b Clean up test state entirely between tests</li>
<li>b38fb776 Replace use of sed with a JSON payload generator</li>
<li>e30caf09 Add a proper log environment for verify-backup-tar balls</li>
<li>7ad4bbc9 Capture pbench-report-status payload in unittests</li>
<li>6dfcaf8a Fix report-status to operate in the face of a missing log file</li>
<li>ca3afdb3 Remove the pbench-server config from test state files</li>
<li>4075e2f7 Rename agent directory to server in unittests</li>
<li>0c844f20 missed some tmp dirs for pprof tool (#847)</li>
<li>c9c9d131 (origin/master, origin/HEAD, wip-unmock-ln) Remove the partially implemented -inotify support</li>
<li>68f6e5c4 Update pprof tool-script for RBAC access</li>
<li>b10f85b3 (origin/wip-pbench-move-results) Add &#x2013;pbench-pre hook for UB; move wrapper</li>
<li>df455df6 pbench-fio: fix numjobs</li>
<li>9ab6360e Undo setting of PATH in pbench-base.sh.</li>
</ul>
</div>
</div>
</div>


<div id="outline-container-org1611e7c" class="outline-2">
<h2 id="org1611e7c">Version 0.50</h2>
<div class="outline-text-2" id="text-org1611e7c">
</div>
<div id="outline-container-org366bb26" class="outline-3">
<h3 id="org366bb26">Installation</h3>
<div class="outline-text-3" id="text-org366bb26">
<p>
There are no installation changes in this release: see the
<a href="../agent/installation.html">Installation Instructions</a> for how to install or update.
</p>

<p>
After installation or update, you should have version 0.50-1g799ea02
of the pbench-agent RPM installed.
</p>
</div>
</div>

<div id="outline-container-orgb9baf2e" class="outline-3">
<h3 id="orgb9baf2e">agent</h3>
<div class="outline-text-3" id="text-orgb9baf2e">
<p>
Fedora 28 has been added to the build list on COPR and agent RPMs
for it have been produced. However, we have not produced RPMs for
the benchmarks and tools that pbench provides. That will be done
shortly and a separate announcement will be sent out.
</p>
</div>

<ul class="org-ul">
<li><a id="org40f2404"></a>Known problems and backward incompatibilities<br />
<div class="outline-text-4" id="text-org40f2404">
<p>
See the <a href="https://github.com/distributed-system-analysis/pbench/issues">issues on Github</a>.
</p>
</div>
</li>

<li><a id="orgf2fd207"></a>Bug fixes and enhancements<br />
<div class="outline-text-4" id="text-orgf2fd207">
<ul class="org-ul">
<li>Openvswitch tool has been added.</li>

<li>External data source tool has been added. This allows an external
data source that is gathering data during the run to be specified
and added to the metadata for the run. See issue #379 and PR #796
(<a href="https://github.com/distributed-system-analysis/pbench/blob/master/agent/tool-scripts/external-data-source">https://github.com/distributed-system-analysis/pbench/blob/master/agent/tool-scripts/external-data-source</a>).</li>

<li>pbench-sysinfo-dump gathers Spectre/Meltdown data if available.</li>
</ul>
</div>
</li>
</ul>
</div>

<div id="outline-container-org11f9a90" class="outline-3">
<h3 id="org11f9a90">server</h3>
<div class="outline-text-3" id="text-org11f9a90">
</div>
<ul class="org-ul">
<li><a id="org6711136"></a>Known problems and backward incompatibilities<br /></li>


<li><a id="org72eaea6"></a>Bug fixes and enhancements<br />
<div class="outline-text-4" id="text-org72eaea6">
<ul class="org-ul">
<li>Pidstat data are now indexed into Elasticsearch.</li>

<li>In response to an IT request, we are implementing changes to cut
down on the volume of email that the cron jobs produce.  This
release includes changes to the server scripts that index
status/error reports from the scripts into ElasticSearch, instead of
sending mail. There are other mitigation strategies being pursued
but they are outside the scope of pbench, so they are not described
here.</li>
</ul>
</div>
</li>
</ul>
</div>

<div id="outline-container-org96e8959" class="outline-3">
<h3 id="web-server-0.50">web-server</h3>
<div class="outline-text-3" id="text-web-server-0.50">
</div>
</div>

<div id="outline-container-org11c9b23" class="outline-3">
<h3 id="org11c9b23">Changelog</h3>
<div class="outline-text-3" id="text-org11c9b23">
<p>
This is the list of visible (non-merge, non-unit-test-related) commits
since v0.49:
</p>

<ul class="org-ul">
<li>799ea025 (HEAD -&gt; master, tag: v0.50, dsa/master) Bump the version to 0.50</li>
<li>8aa0f27a (chaitanyaenr/master) pbench-report-status: fix it and make it findable for execution.</li>
<li>32e0ea0d (v0.50-cand) Index pidstat tool data</li>
<li>0f315a1e Add a reduced-in-size pidstat sample unit test</li>
<li>6d795d1a Ensure haproxy-ocp creates html in proper dir</li>
<li>b18522ad Bug fixes.</li>
<li>ac656c9f Add a script to index collected mail log into Elasticsearch</li>
<li>a7f6cecd add the option to the example config file.</li>
<li>e8a63db0 Update Unitests</li>
<li>8eae4875 Make changes on server script to index mail log</li>
<li>823335cf proc-interrupts-postprocess: fix unit tests.</li>
<li>65b62898 proc-interrupts-postprocess: deal with partly numeric IRQ names</li>
<li>11f378bc pbench-sysinfo-dump: fix handling of spectre/meltdown data</li>
<li>98dc4ccf openvswitch-datalog: collect OVS version and cfg info</li>
<li>b07e4594 Add a note about need to add openshift-labeler support to openshift-qe templates</li>
<li>6b169df4 Modify pbench-ansible to monitor nodes under infra group</li>
<li>f608aaa9 pbench-trafficgen: ensure passthrough argument priority</li>
<li>1e8c2198 Add external-data-source-tool</li>
<li>9f53932c openvswitch-postprocess: reveal some existing OVS stats</li>
<li>dfc741bb openvswitch-postprocess: process new OVS counters</li>
<li>5257c6f8 openvswitch tool: track the number of MAC addresses learned for each port</li>
<li>996e555a user-benchmark: evaluate the contents of pbench-post flag</li>
<li>7693283f (wip-index-text) user-benchmark: change underscore to dash in pbench_post option</li>
</ul>
</div>
</div>
</div>


<div id="outline-container-org46d1ada" class="outline-2">
<h2 id="org46d1ada">Version 0.49</h2>
<div class="outline-text-2" id="text-org46d1ada">
</div>
<div id="outline-container-org1249984" class="outline-3">
<h3 id="org1249984">Installation</h3>
<div class="outline-text-3" id="text-org1249984">
<p>
There are no installation changes in this release: see the
<a href="../agent/installation.html">Installation Instructions</a> for how to install or update.
</p>

<p>
After installation or update, you should have version 0.49-1g6b67ec6
of the pbench-agent RPM installed.
</p>
</div>
</div>

<div id="outline-container-org3b6e099" class="outline-3">
<h3 id="org3b6e099">agent</h3>
<div class="outline-text-3" id="text-org3b6e099">
<p>
We rebuilt pbench-sysstat and benchmark RPMs to include Fedora 27.  We
can no longer build for Fedora 25 or earlier on COPR, so those
platforms are not supported any longer.
</p>
</div>

<ul class="org-ul">
<li><a id="org1c29d2f"></a>Known problems and backward incompatibilities<br />
<div class="outline-text-4" id="text-org1c29d2f">
<p>
See the <a href="https://github.com/distributed-system-analysis/pbench/issues">issues on Github</a> for an (extensive) list.
</p>
</div>
</li>

<li><a id="org921ec0c"></a>Bug fixes and enhancements<br />
<div class="outline-text-4" id="text-org921ec0c">
<ul class="org-ul">
<li>New benchmark: pbench-trafficgen.</li>
<li>The pbench-fio RPM is now based on upstream fio 3.3.</li>
<li>We moved some default settings from the pbench-fio script
to the config file, in order to make testing easier.</li>
<li>The config file has been split into an environment-specific
and a generic piece, very much like the split that was done
on the server. This change should be invisible to the end-user,
but if you encounter problems during installation/initial setup,
please let us know asap.</li>
</ul>
</div>
</li>
</ul>
</div>

<div id="outline-container-orgd2835d5" class="outline-3">
<h3 id="orgd2835d5">server</h3>
<div class="outline-text-3" id="text-orgd2835d5">
<p>
This is still TBD: For the next release (scheduled for mid April), we
hope to finish the sar indexing work.  The rest of the tool results
will follow.
</p>

<p>
The inotify implementation has been committed but it is not activated
yet, because of backward-compatibility concerns. We need to
reimplement pbench-move-results on the agent side before we activate
inotify. That will be done in v0.50.
</p>
</div>

<ul class="org-ul">
<li><a id="org64868e5"></a>Known problems and backward incompatibilities<br />
<div class="outline-text-4" id="text-org64868e5">
<p>
None known.
</p>
</div>
</li>

<li><a id="org2d483dd"></a>Bug fixes and enhancements<br />
<div class="outline-text-4" id="text-org2d483dd">
<ul class="org-ul">
<li>Various small fixes plus better logging in some cases.</li>
</ul>
</div>
</li>
</ul>
</div>

<div id="outline-container-org88bd364" class="outline-3">
<h3 id="web-server-0.49">web-server</h3>
<div class="outline-text-3" id="text-web-server-0.49">
<p>
The pbench-web-server package has not been updated. There are no changes to
the package, so you can still use the existing 0.47 package if you want to 
install it locally.
</p>
</div>
</div>

<div id="outline-container-orgd2f8449" class="outline-3">
<h3 id="orgd2f8449">Changelog</h3>
<div class="outline-text-3" id="text-orgd2f8449">
<p>
This is the list of visible (non-merge, non-unit-test-related) commits
since v0.48:
</p>

<ul class="org-ul">
<li>6b67ec6 Bump the version to 0.49</li>
<li>b971156 Fix unit tests</li>
<li>a72c2f7 Add support to run additional scripts after postprocessing</li>
<li>54fcd46 pbench-trafficgen: Fix unit tests.</li>
<li>e0a1ebd pbench-trafficgen: add unit test.</li>
<li>eb7cf44 pbench-trafficgen: new benchmark script</li>
<li>559c6ab update pbench_registry.yaml to create /var/lib/pbench-agent/tools-default on pbench-controller</li>
<li>ae097a1 Fix DEBUG test.</li>
<li>ad51bc3 Server-side result state setting script.</li>
<li>9d6a345 inotify version of unittests</li>
<li>1bfacb2 inotify version of pbench-unpack-tar balls</li>
<li>ffdb29c inotify version of pbench-dispatch</li>
<li>8971d32 pbench-sync-satellite: add entry to dispatch-list file</li>
<li>9dd56ae script-all: pass logdir as an argument for logging</li>
<li>b8add69 unpack-tar balls: pass logdir as an argument for logging</li>
<li>26356e8 pbench-dispatch: pass logdir as an argument for logging</li>
<li>5839da5 example of the service file</li>
<li>8eaa5a2 base.sh: add a new funtion for appending logs of service scripts</li>
<li>2ef08e3 generic inotify service script</li>
<li>5431c59 Fix the checking of prefix avaialble</li>
<li>ad4adb7 pbench-ansible: monitor controller or jump host</li>
<li>bb72044 Fix bug and better logging</li>
<li>25cf855 fix of pbench-dispatch: missing $</li>
</ul>
</div>
</div>
</div>


<div id="outline-container-org2b1aeaa" class="outline-2">
<h2 id="org2b1aeaa">Version 0.48</h2>
<div class="outline-text-2" id="text-org2b1aeaa">
</div>
<div id="outline-container-org4dded31" class="outline-3">
<h3 id="org4dded31">Installation</h3>
<div class="outline-text-3" id="text-org4dded31">
<p>
There are no installation changes in this release: see the
<a href="../agent/installation.html">Installation Instructions</a> for how to install or update.
</p>

<p>
After installation or update, you should have version 0.48-1g87190ca
of the pbench-agent RPM installed.
</p>
</div>
</div>

<div id="outline-container-orge90089f" class="outline-3">
<h3 id="orge90089f">agent</h3>
<div class="outline-text-3" id="text-orge90089f">
<p>
We rebuilt pbench-sysstat and benchmark RPMs to include Fedora 27.  We
can no longer build for Fedora 25 or earlier on COPR, so those
platforms are not supported any longer.
</p>
</div>

<ul class="org-ul">
<li><a id="org8a3a2ce"></a>Known problems and backward incompatibilities<br />
<div class="outline-text-4" id="text-org8a3a2ce">
<p>
pbench-fio has had a bunch of fixes in this release but problems
remain: see the <a href="https://github.com/distributed-system-analysis/pbench/issues">issues on Github</a> for an (extensive) list.
</p>
</div>
</li>

<li><a id="org98e8d6c"></a>Bug fixes and enhancements<br />
<div class="outline-text-4" id="text-org98e8d6c">
<ul class="org-ul">
<li>The pbench-fio RPM is now based on upstream fio 3.3.</li>
<li>We are moving some default setting from the pbench-fio script
to the config file, in order to make testing easier.</li>
<li>The config file has been split into an environment-specific
and a generic piece, very much like the split that was done
on the server. This change should be invisible to the end-user,
but if you encounter problems during installation/initial setup,
please let us know asap.</li>
</ul>
</div>
</li>
</ul>
</div>

<div id="outline-container-orgdb4cb98" class="outline-3">
<h3 id="orgdb4cb98">server</h3>
<div class="outline-text-3" id="text-orgdb4cb98">
<p>
The indexing script now indexes fio, uperf and moongen results,
including the time series data. It also has undergone some fixes
to deal with different hostname conventions (public vs private
names). It currently indexes iostat and prometheus-metrics data.
</p>

<p>
For the next release (scheduled for the end of February), we hope to
finish the sar indexing work.  The rest of the tool results will
follow.
</p>

<p>
The inotify implementation is proceeding but did not make it
for this release. We had a couple of false starts, but we now
think that we have a reasonable implementation and a good chance
that it will land in time for the next release.
</p>
</div>

<ul class="org-ul">
<li><a id="orgc224519"></a>Known problems and backward incompatibilities<br />
<div class="outline-text-4" id="text-orgc224519">
<p>
None known
</p>
</div>
</li>

<li><a id="org44dea26"></a>Bug fixes and enhancements<br />
<div class="outline-text-4" id="text-org44dea26">
<ul class="org-ul">
<li>The long-standing pbench-move-unpacked problem (in some cases,
the incoming directory existed and the script failed to get all
the required links right) has been fixed.</li>

<li>In the process of fixing the above, a bug was introduced that caused
a spurious link to be added to the directory of a run: the link pointed
to the directory itself with confusing results. This has been fixed
as well.</li>
</ul>
</div>
</li>
</ul>
</div>

<div id="outline-container-org82202f4" class="outline-3">
<h3 id="web-server-0.48">web-server</h3>
<div class="outline-text-3" id="text-web-server-0.48">
<p>
There are no changes to the package (except for the version bump).
</p>

<p>
If you do decide to update, the instructions are standard:
</p>
<pre class="example">
dnf clean expire-cache
dnf update pbench-web-server
</pre>
<p>
(or the yum equivalents.)  The current version available from COPR
is 0.48-1g87190ca.
</p>
</div>
</div>

<div id="outline-container-orgbdf65e5" class="outline-3">
<h3 id="orgbdf65e5">Changelog</h3>
<div class="outline-text-3" id="text-orgbdf65e5">
<p>
This is the list of visible (non-merge, non-unit-test-related) commits
since v0.47:
</p>

<ul class="org-ul">
<li>172bbcbb index-pbench: Add unit tests</li>
<li>f7fe1884 index-pbench: hostname impedance matching with tools</li>
<li>e2e4c9f1 index-pbench: add results mapping and convert ts values to float</li>
<li>e9e9d6c7 pbench-move-unpacked: do not create spurious links</li>
<li>b6660834 pbench-fio: put defaults in config file</li>
<li>edf3d4dd Bump fio version to 3.3</li>
<li>2c46514a pbench-agent-config-activate: allow more than one config file</li>
<li>73f278df (pbench-dashboard)  Fix app title</li>
<li>6e62ee39 (pbench-dashboard)  Group result network calls into promises and execute once, cancel request when switching page</li>
<li>c71d44a5 (pbench-dashboard)  Routing fixes</li>
<li>3bf52e17 (pbench-dashboard)  Update pushed routes with /dashboard prefix and use CancelTokens for aborting axios requests on page changes</li>
<li>94e08aa1 (pbench-dashboard)  Remove unused routes and update with /dashboard prefix</li>
<li>3b4644ac (pbench-dashboard)  Only define title and url of app</li>
<li>fbe663c7 (pbench-dashboard)  Remove irrelevant component mount calls and definitions</li>
<li>638e3df9 (pbench-dashboard)  Remove unused script tags</li>
<li>c39038cc (pbench-dashboard)  Remove irrelevant script tags</li>
<li>3c10ad8a (pbench-dashboard)  Remove unused component definitions and page definitions</li>
<li>d12493c7 (pbench-dashboard)  Fix pointers to dependencies existing on server</li>
<li>a75a1e90 (pbench-dashboard)  Entry point for iteration summary</li>
<li>dc080dbc (pbench-dashboard)  HTML parser dependencies</li>
<li>6ed21ec0 (pbench-dashboard)  Adjust routing for iteration summary view</li>
<li>b7aa48df (pbench-dashboard)  Fix routing to jscharts</li>
<li>b8edc657 (pbench-dashboard)  Iteration Summary component definition</li>
<li>b78f15be (pbench-dashboard)  Routing for iteration summaries</li>
<li>c473b659 (pbench-dashboard)  Fix column bug and improve parsing efficiency</li>
<li>b589b9ad (pbench-dashboard)  Remove unneeded dependencies</li>
<li>9468b6f3 (pbench-dashboard)  Parser for natively rendering iteration table data</li>
<li>d470edc9 (pbench-dashboard)  Delete d3 dependencies</li>
<li>e1d046b8 (pbench-dashboard)  Bug fix for navigating to result after searching</li>
<li>f54fe204 (pbench-dashboard)  Initial commit</li>
<li>215eef90 (pbench-dashboard)  Initial commit</li>
<li>38ad7c48 (pbench-dashboard)  Initial commit</li>
<li>57ee91fa Convert to float only if the list or dict is not empty</li>
<li>76d39b5c pbench-collect-sysinfo: collect security mitigation data</li>
<li>812d4e0b Ignore go_memstats_last_gc_time_seconds metric during postprocess</li>
<li>d9ea08a0 Use the built-in variable fixed in recent ansible version</li>
<li>5c9825cd Fix unit tests.</li>
<li>51c2ea22 Avoid "Use of uninitialized value" errors.</li>
<li>6379aa61 BenchPostProcess: calculate aggregate metrics better.</li>
<li>fa86780e Add Ceph RBD block storage doc section</li>
<li>71d3d55a pbench-move-unpacked: fix bug.</li>
<li>273cfd4a update fio unit tests due to hostname modification</li>
<li>85c12e84 fio-postprocess: treat fio jobs as separate clients</li>
<li>b6085f2f pbench-move-unpacked: initialize $prefix.</li>
<li>98faeb98 pbench-collect-sysinfo: Fix usage string</li>
<li>09bf3fc3 pbench-server-activate*: do not exit on failures.</li>
<li>89c70d9f pbench-move-unpacked: fix long-standing bug</li>
<li>c29283f5 show user default from variable not hardcoded</li>
<li>7cce9cde fix gold output files to match online help for added parameter</li>
<li>e0cf0153 add param histogram-interval-msec, default 10 sec not 60</li>
<li>2c403cbd fix gold output files to match new jobflie format</li>
<li>f29ad234 move non-workload params to global section</li>
</ul>
</div>
</div>
</div>



<div id="outline-container-org7ec84e5" class="outline-2">
<h2 id="org7ec84e5">Version 0.47</h2>
<div class="outline-text-2" id="text-org7ec84e5">
</div>
<div id="outline-container-org0b08127" class="outline-3">
<h3 id="org0b08127">Installation</h3>
<div class="outline-text-3" id="text-org0b08127">
<p>
There are no installation changes in this release: see the
</p>

<p>
<a href="../agent/installation.html">Installation Instructions</a> for how to install or update.
</p>



<p>
After installation or update, you should have version 0.47-1g2cfe130
</p>

<p>
of the pbench-agent RPM installed.
</p>
</div>
</div>



<div id="outline-container-org79f2fc7" class="outline-3">
<h3 id="org79f2fc7">agent</h3>
<div class="outline-text-3" id="text-org79f2fc7">
</div>
<ul class="org-ul">
<li><a id="org4a1d264"></a>Known problems and backward incompatibilities<br />
<div class="outline-text-4" id="text-org4a1d264">
<p>
The pprof tools is undergoing some renovation right now: see issue #675
</p>
</div>
</li>



<li><a id="org3ac736b"></a>Bug fixes and enhancements<br />
<div class="outline-text-4" id="text-org3ac736b">
<ul class="org-ul">
<li><p>
Running xz in multithread mode in <code>pbench-move/copy-results</code> is a
</p>

<p>
definite win in most cases, but there was one case reported where it
</p>

<p>
segfaulted; running it single-threaded took longer but succeeded. In
</p>

<p>
order to allow this fallback, a new option was added to
</p>

<p>
<code>pbench-move/copy-results</code>: <code>--xz-single-threaded</code>.
</p></li>
</ul>
</div>
</li>
</ul>
</div>



<div id="outline-container-orgdb92314" class="outline-3">
<h3 id="orgdb92314">server</h3>
<div class="outline-text-3" id="text-orgdb92314">
</div>
<ul class="org-ul">
<li><a id="orgbae8802"></a>Known problems and backward incompatibilities<br />
<div class="outline-text-4" id="text-orgbae8802">
<ul class="org-ul">
<li><p>
pbench-move-unpacked occasionally leaves a dangling symlink in the
</p>

<p>
results/ URL for reasons that we do not quite understand yet. If you
</p>

<p>
notice missing results, this is probably the reason. These failures
</p>

<p>
were captured in the error log, but not sent as errors in the mail
</p>

<p>
sent to the mailing list, so the failures were somewhat hidden. We
</p>

<p>
have been monitoring the error log regularly however and fixing such
</p>

<p>
failures in fairly short order.
</p></li>
</ul>
</div>
</li>



<li><a id="org4fbdd00"></a>Bug fixes and enhancements<br />
<div class="outline-text-4" id="text-org4fbdd00">
<ul class="org-ul">
<li><p>
Made the above failure in pbench-move-unpacked visible in the email
</p>

<p>
sent to the mailing list, with additional debugging information to
</p>

<p>
help us diagnose the error once and for alland fix it (we hope in v0.48).
</p></li>
</ul>
</div>
</li>
</ul>
</div>



<div id="outline-container-org4bef296" class="outline-3">
<h3 id="web-server-0.47">web-server</h3>
<div class="outline-text-3" id="text-web-server-0.47">
<p>
There are no changes to the package (except for the version bump).
</p>



<p>
If you do decide to update, the instructions are standard:
</p>

<pre class="example">

dnf clean expire-cache

dnf update pbench-web-server
</pre>

<p>
(or the yum equivalents.)  The current version available from COPR
</p>

<p>
is 0.47-1g2cfe130.
</p>
</div>
</div>



<div id="outline-container-orgfc5ca54" class="outline-3">
<h3 id="orgfc5ca54">Changelog</h3>
<div class="outline-text-3" id="text-orgfc5ca54">
<p>
This is the list of visible (non-merge, non-unit-test-related) commits
</p>

<p>
since v0.46:
</p>



<ul class="org-ul">
<li>2cfe130 Bump the version to v0.47</li>

<li>4d821fd pbench-metadata-log: fix the unittests.</li>

<li>787e6af pbench-metadata-log: do not muck around with hostnames</li>

<li>6ea0782 pbench-move-unpacked: fix error handling</li>

<li>e323768 Add show-server option in pbench-move-results usage</li>

<li>6a7766a Avoid printing logs to stdout to avoid tar ball corruption</li>

<li>404fb64 Fix collect-sysinfo to treat "all" and "default" options differently</li>

<li>6873097 Clean up readme</li>

<li>1d1c320 Refactor containerized pbench</li>

<li>4616a19 pbench-fio: fix pre-iteration-script and targets option handling.</li>

<li>feeaa0f Fix lockstat tool</li>

<li>30019c5 Extend optional sysinfo collection to all the benchmarks</li>

<li>8baed64 pbench agent scripts: fix using of -p with scp command</li>

<li>bcce0d4 Log the things pbench-collect-sysinfo is collecting</li>

<li>312ceee Warn instead of failing with a non-zero exit code</li>

<li>1ad33c9 pbench-move-results: add &#x2013;show-server option</li>

<li>b8da534 refactor code to reduce duplication</li>

<li>1729971 rectify the broken: sort by size</li>

<li>e284100 rectify the misnamed 'list' variables</li>

<li>69176b9 Add older ansible version &lt; 2.4 support to pbench-ansible</li>

<li>a44b038 Example config file: add tool-specific interval</li>

<li>46c6a6f util-scripts unittests: clean up</li>

<li>a8f24ad pbench-register-tool-set: flexible specification of tool collection intervals</li>

<li>32a3005 pbench-move-unpacked: work around job pool hang</li>

<li>05d834a pbench-server-activate: relax hostname check</li>
</ul>
</div>
</div>
</div>



<div id="outline-container-org42cbe87" class="outline-2">
<h2 id="org42cbe87">Version 0.46</h2>
<div class="outline-text-2" id="text-org42cbe87">
</div>
<div id="outline-container-org79c97fc" class="outline-3">
<h3 id="org79c97fc">Installation</h3>
<div class="outline-text-3" id="text-org79c97fc">
<p>
There are no installation changes in this release: see the
</p>

<p>
<a href="../agent/installation.html">Installation Instructions</a> for how to install or update.
</p>



<p>
After installation or update, you should have version 0.46-1g6327ec7
</p>

<p>
of the pbench-agent RPM installed.
</p>
</div>
</div>



<div id="outline-container-org542ea2f" class="outline-3">
<h3 id="org542ea2f">agent</h3>
<div class="outline-text-3" id="text-org542ea2f">
</div>
<ul class="org-ul">
<li><a id="org786bb9d"></a>Known problems and backward incompatibilities<br />
<div class="outline-text-4" id="text-org786bb9d">
<p>
The pprof tools is undergoing some renovation right now: see issue #675
</p>
</div>
</li>



<li><a id="org5e75c0a"></a>Bug fixes and enhancements<br />
<div class="outline-text-4" id="text-org5e75c0a">
<ul class="org-ul">
<li><p>
Running xz in multithread mode in <code>pbench-move/copy-results</code> is a
</p>

<p>
definite win in most cases, but there was one case reported where it
</p>

<p>
segfaulted; running it single-threaded took longer but succeeded. In
</p>

<p>
order to allow this fallback, a new option was added to
</p>

<p>
<code>pbench-move/copy-results</code>: <code>--xz-single-threaded</code>.
</p></li>
</ul>
</div>
</li>
</ul>
</div>



<div id="outline-container-orgfcc4976" class="outline-3">
<h3 id="orgfcc4976">server</h3>
<div class="outline-text-3" id="text-orgfcc4976">
</div>
<ul class="org-ul">
<li><a id="orgc669ee7"></a>Known problems and backward incompatibilities<br />
<div class="outline-text-4" id="text-orgc669ee7">
<p>
The script that copies the contents of each tar ball to the distributed
</p>

<p>
file system uses a job queue implementation to do multiple copies in
</p>

<p>
parallel. Occasionally, the job queue system gets stuck and it needs a
</p>

<p>
kick. Fortunately, this is not user-visible, as long as the local
</p>

<p>
storage can accommodate the backlog. We are hoping to resolve this
</p>

<p>
problem in v0.47.
</p>
</div>
</li>



<li><a id="org6c9a87a"></a>Bug fixes and enhancements<br />
<div class="outline-text-4" id="text-org6c9a87a">
<p>
Most of the changes in this release are to fix some problems in the
</p>

<p>
handling of satellite servers. There were fairly massive changes
</p>

<p>
implemented in v0.45, but inevitably there were problems (and there
</p>

<p>
probably are more).
</p>



<p>
Almost all of the scripts are running from cron at a 1-minute
</p>

<p>
interval. In most cases, the script is able to finish all the work
</p>

<p>
during that one minute. There are two exceptions: moving the tar ball
</p>

<p>
contents from local storage to a DFS backend can take a long time
</p>

<p>
potentially, but that latency is hidden from the user; data collected
</p>

<p>
at a satellite server and synced to a master server are deleted once
</p>

<p>
an hour.
</p>



<p>
These updates have been pushed to the production server and the
</p>

<p>
satellite servers. If you see problems, please open an issue.
</p>
</div>
</li>
</ul>
</div>



<div id="outline-container-org2df23a4" class="outline-3">
<h3 id="web-server-0.46">web-server</h3>
<div class="outline-text-3" id="text-web-server-0.46">
<p>
There are no changes to the package (except for the version bump).
</p>



<p>
If you do decide to update, the instructions are standard:
</p>

<pre class="example">

dnf clean expire-cache

dnf update pbench-web-server
</pre>

<p>
(or the yum equivalents.)  The current version available from COPR
</p>

<p>
is 0.46-1g6327ec7.
</p>
</div>
</div>



<div id="outline-container-org9805fdb" class="outline-3">
<h3 id="org9805fdb">Changelog</h3>
<div class="outline-text-3" id="text-org9805fdb">
<p>
This is the list of visible (non-merge, non-unit-test-related) commits
</p>

<p>
since v0.45:
</p>



<ul class="org-ul">
<li>90ed6e2 Version bump</li>

<li>ce9dab4 pbench server: fix race with prefix file.</li>

<li>47e2051 pbench-sync-satellite: fix the file list for md5 checking</li>

<li>665fbd0 pbench-server: fix two bugs and a typo.</li>

<li>3d53059 pbench-unpack-tar balls: fix conflicting file names.</li>

<li>7d03d86 Fix thinko and unit test.</li>

<li>192d269 pbench-sync-satellite: do not send non-errors to error log</li>

<li>96b1d66 Refactor  prometheus-metrics tool to be more generic</li>

<li>0a1c63c Update the script for different error checks as well as rectify the undefined variables</li>

<li>4b1073e pbench-move-results: Add &#x2013;xz-single-threaded option</li>

<li>0876b5b pbench-server-activate-create-results-dir-structure: Avoid chown -R</li>

<li>5f6c4e3 Fix ansible 2.4 compatability issues</li>

<li>8dec7fc Rectify different syntax errors</li>

<li>643311a Update the pbench-satellite-cleanup script to not create empty logdir on every run</li>

<li>05ef05b Update the mail_content destination path</li>

<li>761163b Check for oc client instead of openshift rpm's</li>

<li>5ea4772 Removing check_install_rpm atomic-openshift-clients, just checking for oc.</li>
</ul>
</div>
</div>
</div>



<div id="outline-container-orgd944658" class="outline-2">
<h2 id="orgd944658">Version 0.45</h2>
<div class="outline-text-2" id="text-orgd944658">
</div>
<div id="outline-container-org8cc4dac" class="outline-3">
<h3 id="org8cc4dac">Installation</h3>
<div class="outline-text-3" id="text-org8cc4dac">
<p>
There are no installation changes in this release: see the
</p>

<p>
<a href="../agent/installation.html">Installation Instructions</a> for how to install or update.
</p>



<p>
After installation or update, you should have version 0.45-1g8874a17
</p>

<p>
of the pbench-agent RPM installed.
</p>
</div>
</div>



<div id="outline-container-org2bec8b1" class="outline-3">
<h3 id="org2bec8b1">agent</h3>
<div class="outline-text-3" id="text-org2bec8b1">
</div>
<ul class="org-ul">
<li><a id="org751cf92"></a>Known problems and backward incompatibilities<br />
<div class="outline-text-4" id="text-org751cf92">
<p>
Some of these were in v0.44 - they are repeated here for convenience.
</p>



<ul class="org-ul">
<li><p>
<code>pbench-user-benchmark</code> will now produce a warning about a
</p>

<p>
non-existent JSON result file (see v0.44 release notes). We have a
</p>

<p>
work item to fix this in v0.46.
</p></li>
</ul>



<ul class="org-ul">
<li><p>
<code>pbench-fio</code> issues multiple warnings after postprocessing the
</p>

<p>
latency log files. We thought that this was caused by the last two
</p>

<p>
lines in two of these files having the same timestamp, but there may
</p>

<p>
be duplicate timestamps in other places as well. This is
</p>

<p>
probably a fio bug.
</p></li>
</ul>



<ul class="org-ul">
<li><p>
(not fixed in v0.44) The Python Pandas package goes by different
</p>

<p>
names on RHEL and Fedora.  The current code uses "python-pandas"
</p>

<p>
which works for RHEL, but not for Fedora.  The workaround for Fedora
</p>

<p>
is to actually change the <code>pbench-fio</code> script to install
</p>

<p>
"python2-pandas". This has been fixed in v0.45.
</p></li>
</ul>



<ul class="org-ul">
<li><p>
Two new dependencies have been added to <code>pbench-agent</code>: <code>perl-JSON</code>
</p>

<p>
and <code>perl-Switch</code>. These are used to produce JSON files for the
</p>

<p>
results of benchmarks (currently, <code>pbench-uperf</code>, <code>pbench-moongen</code>
</p>

<p>
and <code>pbench-fio</code> produce such JSON files). <code>perl-JSON</code> is available
</p>

<p>
from the standard RHEL and Fedora repos, but <code>perl-Switch</code> is only
</p>

<p>
available from the standard Fedora repos; on RHEL, you will need to
</p>

<p>
add the RHEL "optional packages" repo. This can be done by copying
</p></li>
</ul>



<p>
<a href="https://github.com/redhat-performance/perf-dept/blob/master/repo_files/rhel7-latest.repo">https://github.com/redhat-performance/perf-dept/blob/master/repo_files/rhel7-latest.repo</a>
</p>



<p>
to <code>/etc/yum.repos.d</code>.
</p>
</div>
</li>



<li><a id="org375d331"></a>Bug fixes and enhancements<br />
<div class="outline-text-4" id="text-org375d331">
<ul class="org-ul">
<li><p>
Some benchmark scripts now take an additional option:
</p>

<p>
&#x2013;sysinfo=&lt;val&gt; where &lt;val&gt; can be "default", "all", "none", or a
</p>

<p>
comma-separated list of words from the following list:
</p>

<p>
kernel_config, block, libvirt, sos, block, topology, ara.  The &lt;val&gt;
</p>

<p>
is passed through to pbench-collect-sysinfo, to allow the the user
</p>

<p>
to tailor what kind of system information will be collected (if
</p>

<p>
any). E.g.
</p></li>
</ul>



<p>
pbench-fio &#x2013;sysinfo=none &lt;other args&gt;
</p>



<p>
will not collect <b>any</b> system information.
</p>



<p>
pbench-user-benchmark, pbench-fio, pbench-uperf and pbench-moongen
</p>

<p>
have been modified to accept the new option. We did not get to the
</p>

<p>
rest of the benchmarks in v0.45, but if you need a benchmark
</p>

<p>
modified along these lines asap, please open an issue and mark it
</p>

<p>
"v0.46".
</p>



<p>
Unfortunately, there was a bug that caused the script to <b>not</b>
</p>

<p>
collect any sosreport (and most other) data in the default
</p>

<p>
configuration. This has been fixed in v0.45.
</p>



<ul class="org-ul">
<li><p>
The prometheus tool now accepts some additional options: a port
</p>

<p>
number can be specified instead of the default, as well as
</p>

<p>
non-default certs. It also sets GOPATH properly. Note that the
</p>

<p>
prom2json tool that is used underneath the covers has undergone
</p>

<p>
some changes that broke functionality. Fixes were submitted upstream
</p>

<p>
and have been merged, so things work properly now.
</p></li>
</ul>



<p>
Various bugs have been addressed in v0.45 and the tool has
</p>

<p>
seen some enhancements.
</p>



<ul class="org-ul">
<li>The openvswitch tool has undergone many fixes and enhancements.</li>
</ul>



<ul class="org-ul">
<li>A bug in the pbench-user-tool script has been fixed.</li>
</ul>
</div>
</li>
</ul>
</div>



<div id="outline-container-orgf173780" class="outline-3">
<h3 id="orgf173780">server</h3>
<div class="outline-text-3" id="text-orgf173780">
<p>
The server code underwent fairly radical changes:
</p>



<ul class="org-ul">
<li><p>
There is a new dispatch script that handles incoming tar balls, checks
</p>

<p>
MD5s and dispatches to the appropriate set of scripts (depending
</p>

<p>
on the server).
</p></li>

<li><p>
Tar Balls are unpacked locally and are <b>not</b> copied to the distributed
</p>

<p>
file system backend synchronously. Instead, the data can be viewed from
</p>

<p>
this temporary location. This should alleviate the latency problem that
</p>

<p>
we have been suffering from.
</p></li>

<li><p>
A new script copies the unpacked data to the backend asynchronously
</p>

<p>
and then patches up the links to allow data viewing from the "permanent"
</p>

<p>
location.
</p></li>

<li><p>
The satellite-server-to-production-server sync mechanism has been
</p>

<p>
revamped to allow much more frequent syncing. Unfortunately, there
</p>

<p>
are some problems that we hope to resolve imminently.
</p></li>
</ul>



<p>
The new server bits have been deployed on the production server. They are
</p>

<p>
going to be deployed on the satellite servers in the next day or two.
</p>
</div>
</div>



<div id="outline-container-org07a10ee" class="outline-3">
<h3 id="web-server-0.45">web-server</h3>
<div class="outline-text-3" id="text-web-server-0.45">
<p>
A fix to speed up loading of pidstat data was added to jschart.js
</p>

<p>
(issue #608 describes the problem in detail).
</p>



<p>
If you do decide to update, the instructions are standard:
</p>

<pre class="example">

dnf clean expire-cache

dnf update pbench-web-server
</pre>

<p>
(or the yum equivalents.)  The current version available from COPR
</p>

<p>
is 0.45-1g8874a17.
</p>
</div>
</div>



<div id="outline-container-org1ca8588" class="outline-3">
<h3 id="org1ca8588">Changelog</h3>
<div class="outline-text-3" id="text-org1ca8588">
<p>
This is the list of visible (non-merge, non-unit-test-related) commits
</p>

<p>
since v0.44:
</p>



<ul class="org-ul">
<li>febcbec v0.45: version bump</li>

<li>51bd53c Clean up server</li>

<li>99df806 Use xz with multi-threaded support when copying/moving results.</li>

<li>887f2ab Update the config file to have pandas package name for RHEL and fedora</li>

<li>d2a60dd pbench-user-tool: pass SIGTERM to the tool for graceful handling</li>

<li>095e404 Add dispatch script</li>

<li>23bc56a Hide latency of copying unpacked tar balls</li>

<li>3ffd96a Update the script to unpack tar balls and create symlinks for them</li>

<li>fa21b13 Add support for creating job pools</li>

<li>511ccc5 openvswitch-portprocess: tweak line processing</li>

<li>5118b7f Update the script to have the ability to install python-pandas on different distros.</li>

<li>bf2f4c7 Add a python script to change the state directory</li>

<li>50e87bf Add new cleanup bash script to remove tar, md5 and prefix</li>

<li>08562bf Add new state directories</li>

<li>3ad44e2 Add new sync script instead of rsync</li>

<li>54bba60 Add sync-package-tar balls script</li>

<li>91102fe openvswitch-[datalog|postprocess]: handle OpenFlow13 protocol better</li>

<li>526d02c openvswitch-postprocess: bug fix</li>

<li>3b81384 pbench-collect-sysinfo: if no sysinfo is specified, assume default.</li>

<li>3e303af Pass sysinfo opts as comma separated values</li>

<li>dc0ee55 openvswitch-datalog: capture holistic view of ovsdb contents</li>

<li>eb2f206 openvswitch: updates to include PMD and flow stats</li>

<li>dedd6f8 openvswitch-postprocess: fix detection of pmd threads Also check for existence of pmd thread ID before referencing</li>

<li>2f892cf prometheus-tool: Refactor postprocess to support visualizations</li>

<li>7ab549a prometheus-tool: Fix script to copy inv even from ansible controller</li>

<li>0164879 prometheus-tool: Rename result files to include port to avoid conflicts</li>

<li>69c4413 prometheus-tool: Add docs about monitoring multiple endpoints</li>

<li>150c732 prometheus-tool: copy inventory to master,pbench-controller nodes</li>

<li>05c8bef uperf-postprocess: force port_labels to be strings</li>

<li>3c4eaf0 Add ansible playbook for using pbench</li>

<li>e1ba029 Register prometheus-metrics on just one master</li>

<li>9df7de0 jschart.js: add URL parameter overrides</li>

<li>c85da71 pbench-index: Fix exception handling</li>

<li>4736bbb pbench-index: Add results indexing</li>

<li>37ddbb6 pbench-index: Prelim version of prometheus and results indexer</li>

<li>59b9a60 pbench-user-benchmark: Log the message with level info instead of warning</li>

<li>5e322d6 prometheus-tool: Use different certs, port for each endpoint</li>

<li>52f90bb Fix script to register perf on remotes</li>

<li>4d1c95e Register perf tool on all the nodes</li>

<li>6a1c153 openvswitch-postprocess: add EMC/Megaflow hit statistics</li>

<li>efceef0 Another fix for openvswitch postprocess</li>

<li>b8c3aa8 openvswitch: fix regex for port maaapings</li>

<li>b8f301c openvswitch: more minor fixes, renaming series</li>

<li>9db6942 openvswitch: update tool for many enhancements</li>

<li>c22b773 Revert "fio: convert to json for metric data"</li>

<li>31b6432 fio: convert to json for metric data</li>
</ul>
</div>
</div>
</div>



<div id="outline-container-org408cb7a" class="outline-2">
<h2 id="org408cb7a">Version 0.44</h2>
<div class="outline-text-2" id="text-org408cb7a">
</div>
<div id="outline-container-org1301a45" class="outline-3">
<h3 id="org1301a45">Installation</h3>
<div class="outline-text-3" id="text-org1301a45">
<p>
There are no installation changes in this release: see the
</p>

<p>
<a href="../agent/installation.html">Installation Instructions</a> for how to install or update.
</p>



<p>
After installation or update, you should have version 0.44-1gf694c2f
</p>

<p>
of the pbench-agent RPM installed.
</p>
</div>
</div>



<div id="outline-container-orge19e83b" class="outline-3">
<h3 id="orge19e83b">agent</h3>
<div class="outline-text-3" id="text-orge19e83b">
</div>
<ul class="org-ul">
<li><a id="orge906d5e"></a>Known problems and backward incompatibilities<br />
<div class="outline-text-4" id="text-orge906d5e">
<p>
These are identical to v0.43 and are repeated here for convenience:
</p>



<ul class="org-ul">
<li><p>
<code>pbench-user-benchmark</code> will now produce a warning about a non-existent
</p>

<p>
JSON result file (see below).
</p></li>
</ul>



<ul class="org-ul">
<li><p>
<code>pbench-fio</code> issues two warnings after postprocessing the latency log
</p>

<p>
files.  This is caused by the last two lines in two of these files
</p>

<p>
having the same timestamp. This is probably a fio bug.
</p></li>
</ul>



<ul class="org-ul">
<li><p>
(not fixed in v0.44) The Python Pandas package goes by different
</p>

<p>
names on RHEL and Fedora.  The current code uses "python-pandas"
</p>

<p>
which works for RHEL, but not for Fedora.  The workaround for Fedora
</p>

<p>
is to actually change the <code>pbench-fio</code> script to install
</p>

<p>
"python2-pandas". We have a work item to fix this for v0.45.
</p></li>
</ul>



<ul class="org-ul">
<li><p>
Two new dependencies have been added to <code>pbench-agent</code>: <code>perl-JSON</code>
</p>

<p>
and <code>perl-Switch</code>. These are used to produce JSON files for the
</p>

<p>
results of benchmarks (currently, <code>pbench-uperf</code>, <code>pbench-moongen</code>
</p>

<p>
and <code>pbench-fio</code> produce such JSON files). <code>perl-JSON</code> is available
</p>

<p>
from the standard RHEL and Fedora repos, but <code>perl-Switch</code> is only
</p>

<p>
available from the standard Fedora repos; on RHEL, you will need to
</p>

<p>
add the RHEL "optional packages" repo. This can be done by copying
</p></li>
</ul>



<p>
<a href="https://github.com/redhat-performance/perf-dept/blob/master/repo_files/rhel7-latest.repo">https://github.com/redhat-performance/perf-dept/blob/master/repo_files/rhel7-latest.repo</a>
</p>



<p>
to <code>/etc/yum.repos.d</code>.
</p>
</div>
</li>



<li><a id="org413b79c"></a>Bug fixes and enhancements<br />
<div class="outline-text-4" id="text-org413b79c">
<ul class="org-ul">
<li><p>
(v0.43) pbench-user-benchmark also produces a rudimentary JSON result
</p>

<p>
file (it only includes a duration for the run), but there are
</p>

<p>
provisions to allow the user benchmark to produce a JSON file
</p>

<p>
which pbench-user-benchmark will upload for indexing.
</p></li>
</ul>



<ul class="org-ul">
<li><p>
(v0.43 with updates) Some benchmark scripts now take an additional
</p>

<p>
option: &#x2013;sysinfo=&lt;val&gt; where &lt;val&gt; can be "default", "all", "none",
</p>

<p>
or a comma-separated list of words from the following list:
</p>

<p>
kernel_config, block, libvirt, sos, block, topology, ara.  The &lt;val&gt;
</p>

<p>
is passed through to pbench-collect-sysinfo, to allow the the user
</p>

<p>
to tailor what kind of system information will be collected (if
</p>

<p>
any). E.g.
</p></li>
</ul>



<p>
pbench-fio &#x2013;sysinfo=none &lt;other args&gt;
</p>



<p>
will not collect <b>any</b> system information.
</p>



<p>
pbench-user-benchmark, pbench-fio, pbench-uperf and pbench-moongen
</p>

<p>
have been modified to accept the new option. We may (or may not)
</p>

<p>
get to the rest of the benchmarks in v0.45, but if you need a
</p>

<p>
benchmark modified along these lines asap, please open an issue
</p>

<p>
and mark it "v0.45".
</p>



<ul class="org-ul">
<li><p>
The prometheus tool now accepts some additional options: a port
</p>

<p>
number can be specified instead of the default, as well as
</p>

<p>
non-default certs. It also sets GOPATH properly. Note that the
</p>

<p>
prom2json tool that is used underneath the covers has undergone
</p>

<p>
some changes that broke functionality. Fixes were submitted upstream
</p>

<p>
and have been merged, so things work properly now.
</p></li>
</ul>



<p>
See upstream issues:
</p>



<p>
<a href="https://github.com/prometheus/prom2json/issues/18">https://github.com/prometheus/prom2json/issues/18</a>,
</p>

<p>
<a href="https://github.com/prometheus/prom2json/issues/20">https://github.com/prometheus/prom2json/issues/20</a>
</p>



<p>
and associated PR:
</p>



<p>
<a href="https://github.com/prometheus/prom2json/pull/22">https://github.com/prometheus/prom2json/pull/22</a>
</p>



<p>
If you find any problems, please open an issue, but as far as
</p>

<p>
we know, there should not be any.
</p>



<ul class="org-ul">
<li>Various tools added to the default configuration for openshift.</li>
</ul>



<ul class="org-ul">
<li><p>
A bug in BenchPostprocess::get_uid has been fixed: it was fixed
</p>

<p>
previously, but the fix got lost somehow. It is now fixed again,
</p>

<p>
hopefully for good.
</p></li>
</ul>
</div>
</li>
</ul>
</div>



<div id="outline-container-org1f0a3ec" class="outline-3">
<h3 id="org1f0a3ec">server</h3>
<div class="outline-text-3" id="text-org1f0a3ec">
<p>
There is a minor change in the server to make a mail message report
</p>

<p>
more accurately. This will be deployed opportunistically.
</p>
</div>
</div>



<div id="outline-container-orge811c87" class="outline-3">
<h3 id="web-server-0.44">web-server</h3>
<div class="outline-text-3" id="text-web-server-0.44">
<p>
There is a new RPM that should be identical to the two previous
</p>

<p>
versions. The dependencies are now handled correctly, so it should
</p>

<p>
be safe to update to v0.44 if you want.
</p>



<p>
If you do decide to update, the instructions are standard:
</p>

<pre class="example">

dnf clean expire-cache

dnf update pbench-web-server
</pre>

<p>
(or the yum equivalents.)  The current version available from COPR
</p>

<p>
is 0.44-1gf694c2f.
</p>
</div>
</div>



<div id="outline-container-org63a0fe4" class="outline-3">
<h3 id="org63a0fe4">Changelog</h3>
<div class="outline-text-3" id="text-org63a0fe4">
<p>
This is the list of visible (non-merge, non-unit-test-related) commits
</p>

<p>
since v0.43:
</p>



<ul class="org-ul">
<li>f694c2f Version bump</li>

<li>54fba8a pidstat-postprocess: nuke commas from commands.</li>

<li>4010360 Modify installation steps of prom2json</li>

<li>24f2b9c Fix a subsitution bug in BenchPostprocess::get_uid</li>

<li>aacd800 Update the subject and body message of ssh failure mail</li>

<li>6303e80 Fixes the way GOPATH is set</li>

<li>3b084b1 Parameterize certs and port for prometheus-metrics</li>

<li>ceafcf0 Register tools on OpenShift infra, cns nodes</li>

<li>4a8928a Fix script to write all the metrics</li>

<li>a9b066a move, clear results only when set in vars</li>

<li>9c4e24d Register prometheus-metrics tool on openshift</li>

<li>481b636 Register disk tool on the OpenShift cluster</li>

<li>2834781 Register haproxy-ocp tool on masters</li>

<li>89476b8 Add unit tests for pbench-fio bench-script</li>

<li>c46a8e7 Add support to fio to collect the info requested</li>

<li>9f96951 Add unit tests for uperf bench-script</li>

<li>85173ec Add support to uperf to collect the info requested</li>

<li>07a5045 Add unit tests</li>

<li>6a9c902 Add support to moongen to collect the info requested</li>

<li>3d0ff25 Do not assume that unit tests are sequentially numbered</li>

<li>9842b5f Show labels of oc-nodes</li>
</ul>
</div>
</div>
</div>



<div id="outline-container-org0eb346d" class="outline-2">
<h2 id="org0eb346d">Version 0.43</h2>
<div class="outline-text-2" id="text-org0eb346d">
</div>
<div id="outline-container-org4c9c45d" class="outline-3">
<h3 id="org4c9c45d">Installation</h3>
<div class="outline-text-3" id="text-org4c9c45d">
<p>
There are no installation changes in this release: see the
</p>

<p>
<a href="../agent/installation.html">Installation Instructions</a> for how to install or update.
</p>



<p>
After installation or update, you should have version 0.43-1g87c4f83
</p>

<p>
of the pbench-agent RPM installed.
</p>
</div>
</div>



<div id="outline-container-orge27dd01" class="outline-3">
<h3 id="orge27dd01">agent</h3>
<div class="outline-text-3" id="text-orge27dd01">
</div>
<ul class="org-ul">
<li><a id="orgc97ca2d"></a>Known problems and backward incompatibilities<br />
<div class="outline-text-4" id="text-orgc97ca2d">
<ul class="org-ul">
<li><p>
<code>pbench-user-benchmark</code> will now produce a warning about a non-existent
</p>

<p>
JSON result file (see below).
</p></li>

<li><p>
<code>pbench-fio</code> issues two warnings after postprocessing the latency log
</p>

<p>
files.  This is caused by the last two lines in two of these files
</p>

<p>
having the same timestamp. This is probably a fio bug.
</p></li>

<li><p>
The Python Pandas package goes by different names on RHEL and
</p>

<p>
Fedora.  The current code uses "python-pandas" which works for RHEL,
</p>

<p>
but not for Fedora.  The workaround for Fedora is to actually change
</p>

<p>
the <code>pbench-fio</code> script to install "python2-pandas". We have a work
</p>

<p>
item to fix this for the next release.
</p></li>

<li><p>
Two new dependencies have been added to <code>pbench-agent</code>: <code>perl-JSON</code>
</p>

<p>
and <code>perl-Switch</code>. These are used to produce JSON files for the
</p>

<p>
results of benchmarks (currently, <code>pbench-uperf</code>, <code>pbench-moongen</code>
</p>

<p>
and <code>pbench-fio</code> produce such JSON files). <code>perl-JSON</code> is available
</p>

<p>
from the standard RHEL and Fedora repos, but <code>perl-Switch</code> is only
</p>

<p>
available from the standard Fedora repos; on RHEL, you will need to
</p>

<p>
add the RHEL "optional packages" repo. This can be done by copying
</p></li>
</ul>



<p>
<a href="https://github.com/redhat-performance/perf-dept/blob/master/repo_files/rhel7-latest.repo">https://github.com/redhat-performance/perf-dept/blob/master/repo_files/rhel7-latest.repo</a>
</p>



<p>
to <code>/etc/yum.repos.d</code>.
</p>

<ul class="org-ul">
<li><p>
Note that the output of the benchmarks that have been converted to
</p>

<p>
produce JSON files is now stored in files named
</p>

<p>
<code>result.{txt,csv,json,html}</code>. The information in these files should
</p>

<p>
be the same as in the older <code>summary-result.{txt,csv,html}</code>, although
</p>

<p>
the format may be different.
</p></li>
</ul>
</div>
</li>



<li><a id="org8d77f0a"></a>Bug fixes and enhancements<br />
<div class="outline-text-4" id="text-org8d77f0a">
<ul class="org-ul">
<li><p>
pbench-fio produces JSON results now, using the same libraries
</p>

<p>
that were used in pbench-uperf and pbench-moongen.
</p></li>
</ul>



<ul class="org-ul">
<li><p>
pbench-user-benchmark also produces a rudimentary JSON result
</p>

<p>
file (it only includes a duration for the run), but there are
</p>

<p>
provisions to allow the user benchmark to produce a JSON file
</p>

<p>
which pbench-user-benchmark will upload for indexing.
</p></li>
</ul>



<ul class="org-ul">
<li><p>
Benchmark directory names contain a time stamp, which previously
</p>

<p>
contained colons. This caused difficulties with docker, so the
</p>

<p>
timestamp format has been changed to contain only periods. Internal
</p>

<p>
timestamps (e.g. in the metadata.log) are still in the original format
</p>

<p>
using colons; there is no plan to change those.
</p></li>
</ul>



<ul class="org-ul">
<li><p>
Some benchmark scripts now take an additional option: &#x2013;sysinfo=&lt;val&gt;
</p>

<p>
where &lt;val&gt; can be "default", "all", "none", or a comma-separated
</p>

<p>
list of words from the following list: kernel_config, block,
</p>

<p>
libvirt, sos, block, topology, ara.  The &lt;val&gt; is passed through to
</p>

<p>
pbench-collect-sysinfo, to allow the the user to tailor what kind of
</p>

<p>
system information will be collected (if any). E.g.
</p></li>
</ul>



<p>
pbench-fio &#x2013;sysinfo=none &lt;other args&gt;
</p>



<p>
will not collect <b>any</b> system information.
</p>



<p>
Although this was meant to be applied generally, currently only
</p>

<p>
pbench-user-benchmark has been converted. There are outstanding
</p>

<p>
PRs for pbench-fio, pbench-uperf and uperf-moongen to be modified
</p>

<p>
the same way - they will be available in v0.44. The rest of the
</p>

<p>
benchmark scripts will then follow (probably in v0.45, although
</p>

<p>
depending on demand, we may convert some of them earlier).
</p>



<ul class="org-ul">
<li><p>
A "disk" tool has been added: it runs "df" periodically, collects
</p>

<p>
the results and post-processes them to render various graphs.
</p></li>
</ul>



<ul class="org-ul">
<li><p>
There will be a number of documentation changes that will be
</p>

<p>
rolled out in the next couple of weeks, out-of-band with the
</p>

<p>
releases. Notification will be sent out about those changes
</p>

<p>
as they happen.
</p></li>
</ul>
</div>
</li>
</ul>
</div>



<div id="outline-container-orgaa7f4f8" class="outline-3">
<h3 id="orgaa7f4f8">server</h3>
<div class="outline-text-3" id="text-orgaa7f4f8">
<p>
The script that syncs "satellite" pbench servers to a master server
</p>

<p>
has been sped up to allow more frequent invocation from cron. However,
</p>

<p>
the rsyncing itself and (particularly) the unpacking of the synced
</p>

<p>
tar balls on the master server is still a bottleneck. We have a work
</p>

<p>
item to improve that in v0.44.
</p>



<p>
The indexing script continues to be enahnced: it now indexes iostat
</p>

<p>
tool data, and more information has been added to the metadata:
</p>

<p>
iterations and samples are now indexed. We are planning to deploy test
</p>

<p>
versions of the indexer in the next month that will index results and
</p>

<p>
more tool data (to the staging ES instance), then roll it into the
</p>

<p>
production server in the v0.44 release.  It is likely however that
</p>

<p>
we'll iterate a number of times on the indexer in the next few
</p>

<p>
months.
</p>
</div>



<ul class="org-ul">
<li><a id="org411c559"></a>Instructions<br />
<div class="outline-text-4" id="text-org411c559">
<p>
TBD.
</p>
</div>
</li>
</ul>
</div>



<div id="outline-container-org3a258eb" class="outline-3">
<h3 id="web-server-0.43">web-server</h3>
<div class="outline-text-3" id="text-web-server-0.43">
<p>
There are no updates to the web-server in this release, but there
</p>

<p>
is a new RPM that should be identical (other than the version number)
</p>

<p>
to the previous version. For now, we recommend that you do <b>not</b> update:
</p>

<p>
the testing has been fairly superficial and somewhat inconclusive. We
</p>

<p>
plan to work on this in the next week or two. We'll send out details
</p>

<p>
when it's ready.
</p>



<p>
If you do decide to update, the instructions are standard:
</p>

<pre class="example">

dnf clean expire-cache

dnf update pbench-web-server
</pre>

<p>
(or the yum equivalents.)  The current version available from COPR
</p>

<p>
is 0.43-1g87c4f83
</p>
</div>
</div>



<div id="outline-container-orgd677918" class="outline-3">
<h3 id="orgd677918">Changelog</h3>
<div class="outline-text-3" id="text-orgd677918">
<p>
This is the list of visible (non-merge, non-unit-test-related) commits
</p>

<p>
since v0.42:
</p>



<ul class="org-ul">
<li>87c4f83 Version bump: v0.43</li>

<li>a0811d9 Fix unit tests.</li>

<li>caf4a37 Fix fio-postprocess</li>

<li>86213bf Fixes to pbench-fio.</li>

<li>1c0a117 fio: convert to json for metric data</li>

<li>29a365d generate-benchmark-summary: process iterations in numerical order</li>

<li>7134e34 Fix unit tests for pbench-rsync-satellite.</li>

<li>cbb782f Add cleanup script</li>

<li>6595a23 Speed up the rsync script.</li>

<li>bca3c94 Add containerized pbench for openshift</li>

<li>1fc8e0c Add unit tests</li>

<li>eca3b7b Add support to user-benchmark to emit a json file</li>

<li>c9c21ad Add support to fetch kube config from master</li>

<li>597a006 Unit test for index-pbench added</li>

<li>7052f9e Handle exceptions more selectively</li>

<li>4861e03 Modify index-pbench for pbench-user-benchmark</li>

<li>b073599 pbench-rsync-satellite: add unit test</li>

<li>533f55e pbench-rsync-satellite: bug fixes and unittest prep</li>

<li>019031b Send mail only if a counter is nontrivial</li>

<li>b03b8fb pbench-metadata-log: reduction of ssh invocations</li>

<li>b0d6b8d Add flexible way to register tools on nodes</li>

<li>7fd3b2a Fix df command to ignore openshift volumes, header</li>

<li>c2f7da9 Change time format in suffix of run directory</li>

<li>a66c892 Rename variable to avoid collision</li>

<li>8207437 Fix syntax of the check</li>

<li>e389968 Add disk tool to pbench</li>

<li>042e3b5 Add mock for pbench-metadata-log unitests</li>

<li>3771cbc Update all the benchmarks to call pbench-metadata-log directly</li>

<li>6b37e67 Break out of loop in exception handler</li>

<li>d20464f documentation for pbench-fio and pbench-uperf</li>

<li>6fb57e5 Add support to collect-sysinfo to collect ara data</li>

<li>cc9460b Rename openshift-metrics to prometheus-metrics</li>

<li>334f93e Use 'exited' instead of 'failed' on success</li>

<li>d96c01c Fix playbook to handle non-existant groups in inventory,labeling</li>

<li>9645ccb Rework help and usage for user-benchmark</li>

<li>bdf6f0c Rename the tar files to remove confusion, instead of, compress the tar ball</li>

<li>8abd2e8 Use RPM to avoid issues with dashes in awk</li>

<li>681a0ef Close using the proper file variable</li>

<li>d915a3a Fix up dates to put them in standard format</li>

<li>4620b28 Add support to pbench-collect-sysinfo to collect only the info requested</li>

<li>39935b0 One version file to rule them all</li>

<li>9a29587 Contrib VERSION</li>

<li>f8c76ba Fix the timestamp format</li>

<li>b4e1b55 Fix WONT-INDEX.xx range to reflect the errors that index-pbench returns</li>

<li>80947ed Fix path of index-pbench, PYTHONPATH and config file path.</li>

<li>9a5052e Final changes for automating server installation</li>

<li>b7fd923 Do not try to yum install packages to provide semanage/restorecon</li>

<li>ac6e5b7 correct timezone to UTC while os.stat'g tb fname</li>

<li>3a270ca Index .csv tool data files</li>

<li>1df7eff Decompose iteration names into components</li>

<li>77783ae Change the date format in agent/base to satisfy ES needs</li>
</ul>
</div>
</div>
</div>



<div id="outline-container-org381b52b" class="outline-2">
<h2 id="org381b52b">Version 0.42</h2>
<div class="outline-text-2" id="text-org381b52b">
</div>
<div id="outline-container-orga0db306" class="outline-3">
<h3 id="orga0db306">Installation</h3>
<div class="outline-text-3" id="text-orga0db306">
<p>
N.B. COPR has deleted the Fedora 23 chroot, so we can no longer
</p>

<p>
produce Fedora 23 packages; Fedora 23 is no longer supported.
</p>



<p>
There are no installation changes in this release: see the
</p>

<p>
<a href="../agent/installation.html">Installation Instructions</a> for how to install or update.
</p>



<p>
After installation or update, you should have version 0.42-1gcf7a941
</p>

<p>
of the pbench-agent RPM installed.
</p>
</div>
</div>



<div id="outline-container-orgef3ada7" class="outline-3">
<h3 id="orgef3ada7">agent</h3>
<div class="outline-text-3" id="text-orgef3ada7">
</div>
<ul class="org-ul">
<li><a id="org97fb6a4"></a>Backward incompatibilities<br />
<div class="outline-text-4" id="text-org97fb6a4">
<p>
None known.
</p>
</div>
</li>



<li><a id="org4e758f0"></a>Bug fixes and enhancements<br />
<div class="outline-text-4" id="text-org4e758f0">
<p>
User-visible changes include:
</p>



<ul class="org-ul">
<li>HAProxy OCP plugin has been merged</li>

<li>openshift-metrics tool has been merged</li>

<li>pbench-clear-tools regained its &#x2013;remote option (it was lost some time ago).</li>

<li><p>
pbench-uperf post-processing catches more errors and recovers much better
</p>

<p>
than before.
</p></li>
</ul>



<p>
One thing that did not make it is the JSON output for <code>pbench-fio</code>:
</p>

<p>
there were some problems which we didn't have time to address in this
</p>

<p>
cycle. It will be in v0.43.
</p>
</div>
</li>
</ul>
</div>



<div id="outline-container-org88fc380" class="outline-3">
<h3 id="org88fc380">server</h3>
<div class="outline-text-3" id="text-org88fc380">
<p>
Indexing work has been proceeding on a branch. It has not been merged onto the master
</p>

<p>
branch yet and is not part of this release. The plan is to merge it after the release and
</p>

<p>
deploy it with the next release.
</p>



<p>
The server has seen fixes for installing into different environments.
</p>
</div>



<ul class="org-ul">
<li><a id="org703888d"></a>Instructions<br />
<div class="outline-text-4" id="text-org703888d">
<p>
TBD.
</p>
</div>
</li>
</ul>
</div>



<div id="outline-container-org332be13" class="outline-3">
<h3 id="web-server-0.42">web-server</h3>
<div class="outline-text-3" id="text-web-server-0.42">
<p>
The pbench-web-server RPM has been updated with scatterplot support
</p>

<p>
and a number of fixes.
</p>



<p>
If you have it installed, you will want to update:
</p>

<pre class="example">

dnf clean expire-cache

dnf update pbench-web-server
</pre>

<p>
(or the yum equivalents.)  The current version available from COPR
</p>

<p>
is 0.42-1gcf7a941.
</p>
</div>
</div>



<div id="outline-container-orgf5d887c" class="outline-3">
<h3 id="orgf5d887c">Changelog</h3>
<div class="outline-text-3" id="text-orgf5d887c">
<p>
This is the list of visible (non-merge, non-unit-test-related) commits
</p>

<p>
since v0.41:
</p>



<ul class="org-ul">
<li>00d4fe0 Fix command to parse openshift inv</li>

<li>e9c6634 White space fixes - also fixed some typos</li>

<li>fc479c4 pbench-metadata-log changes to record iterations</li>

<li>1d3508a All pbench benchmark scripts record their iterations</li>

<li>78a3b6b Pbench agent base script: do not recalculate $date</li>

<li>c07a010 Check whether selinuxenabled exists before calling it</li>

<li>eadc311 Add remote option to pbench-clear-tools</li>

<li>fab942f Added test fix too</li>

<li>0e13532 Fix typo</li>

<li>15a8bd1 playbook to register pbench-tools on openshift cluster</li>

<li>ced507a Fixes distributed-system-analysis/pbench#479</li>

<li>d24406d Specify the sorting columns explicitly</li>

<li>8151b84 Fix invocation of index-pbench</li>

<li>b38b247 openshift-metrics tool for pbench</li>

<li>cf950a8 Check ssh status in pbench-rsync-satellite</li>

<li>0f545e3 generate-benchmark-summary: skip over missing result.json iterations</li>

<li>c851d60 pbench-uperf: allow any process-iteration-samples failure to re-try</li>

<li>ab0cb7b Fix unit tests</li>

<li>45a571e Decorate the mail sent by server scripts with environment information</li>

<li>d120260 Update to pbench-uperf &#x2013;help</li>

<li>29b2929 Fill gaps in server installation</li>

<li>fee78ab Add scatterplot support to jschart</li>

<li>6600716 Correct invalid jschart API calls</li>

<li>683c0d1 Fix date format for seconds since epoch</li>

<li>b58ff7b BenchPostprocess.pm: fix div by zero and other small clean-ups</li>

<li>eebd592 Added haproxy-ocp unittests.</li>

<li>ff46508 Set thresholds on graphs with 0 values.</li>

<li>702aa8f Collect HAProxy's version and default settings.  Set thresholds on graphs with 0 values.</li>

<li>c16d833 - Split logs directory to config/logs. &#x2026;</li>

<li>d103e31 Replacing BASH_SOURCE variable.  Assuming plugins will not be 'sourced' by other scripts.</li>

<li>cda6444 Adding HAProxy OCP plugin.</li>
</ul>
</div>
</div>
</div>



<div id="outline-container-orgafb54ad" class="outline-2">
<h2 id="orgafb54ad">Version 0.41</h2>
<div class="outline-text-2" id="text-orgafb54ad">
</div>
<div id="outline-container-orgba405fc" class="outline-3">
<h3 id="orgba405fc">Installation</h3>
<div class="outline-text-3" id="text-orgba405fc">
<p>
There are no installation changes in this release: see the
</p>

<p>
<a href="../agent/installation.html">Installation Instructions</a> for how to install.
</p>



<p>
After installation or update, you should have version 0.40-1gf281562
</p>

<p>
of the pbench-agent RPM installed.
</p>
</div>
</div>



<div id="outline-container-orga21510d" class="outline-3">
<h3 id="orga21510d">agent</h3>
<div class="outline-text-3" id="text-orga21510d">
</div>
<ul class="org-ul">
<li><a id="org8ca9c7a"></a>Backward incompatibilities<br />
<div class="outline-text-4" id="text-org8ca9c7a">
<p>
None known.
</p>
</div>
</li>



<li><a id="org2aaa26e"></a>Bug fixes and enhancements<br />
<div class="outline-text-4" id="text-org2aaa26e">
<p>
User-visible changes include:
</p>
</div>



<ul class="org-ul">
<li><a id="org9f14f2a"></a>New pbench-mpt benchmark<br />
<div class="outline-text-5" id="text-org9f14f2a">
<p>
Thanks to Ottavio Piske for this addition which runs msg-perf-tool.
</p>
</div>
</li>



<li><a id="org9da8d0f"></a><code>pbench-fio</code><br />
<div class="outline-text-5" id="text-org9da8d0f">
<p>
Various fixes to the recently added latency histogram functionality.
</p>
</div>
</li>



<li><a id="org57dc218"></a>iostat graphs<br />
<div class="outline-text-5" id="text-org57dc218">
<p>
Improve the graph descriptions by adding units to them. This is
</p>

<p>
probably just a stopgap first step: there are plans to make various
</p>

<p>
graph characteristics specified easily and in some cases customizable
</p>

<p>
by the user.
</p>
</div>
</li>



<li><a id="orgcfd1cc6"></a><code>pbench-moongen</code><br />
<div class="outline-text-5" id="text-orgcfd1cc6">
<p>
Add latency data plus various fixes.
</p>
</div>
</li>



<li><a id="org4aa97bf"></a>Fixes to graph rendering<br />
<div class="outline-text-5" id="text-org4aa97bf">
<p>
See <a href="#web-server-0.41">web-server</a> below.
</p>
</div>
</li>
</ul>
</li>
</ul>
</div>



<div id="outline-container-org134dcb3" class="outline-3">
<h3 id="org134dcb3">server</h3>
<div class="outline-text-3" id="text-org134dcb3">
<ul class="org-ul">
<li>Various fixes to rsyncing from satellite servers.</li>
</ul>
</div>
</div>



<div id="outline-container-orgc1028ea" class="outline-3">
<h3 id="web-server-0.41">web-server</h3>
<div class="outline-text-3" id="text-web-server-0.41">
<p>
The pbench-web-server RPM has been updated with many fixes, cleanups
</p>

<p>
and optimizations: sort table datasets by value, dataset cursor value
</p>

<p>
locking, add a "Misc. Controls" panel to the table.
</p>



<p>
If you have it installed, you probably want to update:
</p>

<pre class="example">

dnf clean expire-cache

dnf update pbench-web-server
</pre>

<p>
(or the yum equivalents.)  The current version available from COPR
</p>

<p>
is 0.41-1g97296c4.
</p>
</div>
</div>



<div id="outline-container-orgf8e3766" class="outline-3">
<h3 id="orgf8e3766">Changelog</h3>
<div class="outline-text-3" id="text-orgf8e3766">
<p>
This is the list of visible (non-merge, non-unit-test-related) commits
</p>

<p>
since v0.40:
</p>



<ul class="org-ul">
<li>f780656 Fix a latency processing bug in moongen-postprocess</li>

<li>8a9f445 Unit test gold files changes for PR#434</li>

<li>bc787eb Fix benchmark postprocessing infloop</li>

<li>d8ef7ff Add a "Misc. Controls" panel to the jschart table</li>

<li>eced272 Don't call fiologparser_hist.py twice</li>

<li>49fafc2 Fix iostat unit tests.</li>

<li>aca5ffc Change the iostat keys to more accurately reflect the nature of the metrics</li>

<li>4580156 Fix iostat unit tests</li>

<li>eadcde1 Change the keys of the iostat hash to make them more descriptive</li>

<li>9672161 Collect the kernel config file</li>

<li>f9bc55a use correct units for fio histogram-derived latency graph</li>

<li>e1a6825 add 95th percentile to fio histogram-derived latency graph</li>

<li>acfff77 Update jschart by adding dataset cursor value locking</li>

<li>5426fab Update jschart to sort the table datasets by value</li>

<li>f902160 pass job file to fiologparser_hist.py</li>

<li>5068ed0 Fix short-form -n option</li>

<li>be6172f Only display the information about the location of the test results when actually running a test</li>

<li>2a80577 The script does not require any options for the install-only mode, therefore prevent checking the test options</li>

<li>b487f24 Changes the order on which the help options are presented to the user to match the order they are declared</li>

<li>a505370 Fixes handling of long options, which were missing in the previous versions of the script</li>

<li>f207c4b Removes the logic to set the default throttle because it is already set earlier</li>

<li>02d8ae7 Added support for 'install only' option, which can be used to install mpt dependencies on the test host</li>

<li>27547a3 Added support for installing packages from Fedora COPR repositories (WIP)</li>

<li>076f496 Minor cleanups by removing unused code on pbench-mpt script</li>

<li>1badc9e Added a simple runner script for msg-perf-tool.</li>

<li>35ee777 Fix incorrect addressing of 'webserver' variable that would prevent rendering host_info_url setting.</li>

<li>dc14a7b Downgrade sysstat further to 11.2.0</li>

<li>84878ca Downgrade pbench-sysstat req to 11.4.1</li>

<li>d413085 Allow the user to tell pbench-moongen to accept negative packet loss</li>

<li>7bb0c24 Update pbench-moongen to use lua-trafficgen</li>

<li>47cca9c Parse new moongen output to find latency data</li>

<li>5f898e3 Bump the required sysstat version to 11.5.1</li>

<li>6ac5318 Event collection has to be for all namespaces</li>

<li>3e03486 Typo</li>

<li>dbefb1b Crontab entries for satellite handling</li>

<li>e4d9fe9 Define all relevant variables in pbench-base.sh</li>

<li>4b473f7 Improvements to status email</li>

<li>d23a302 Clean up the status mail</li>

<li>bbffa61 pbench-rsync-satellite: Fix tar ball deletions and send status email</li>
</ul>
</div>
</div>
</div>



<div id="outline-container-org7958788" class="outline-2">
<h2 id="org7958788">Version 0.40</h2>
<div class="outline-text-2" id="text-org7958788">
</div>
<div id="outline-container-org36e8261" class="outline-3">
<h3 id="org36e8261">Installation</h3>
<div class="outline-text-3" id="text-org36e8261">
<p>
There are no installation changes in this release: see the
</p>

<p>
<a href="../agent/installation.html">Installation Instructions</a> for how to install.
</p>



<p>
After installation or update, you should have version 0.40-1gf281562
</p>

<p>
of the pbench-agent RPM installed.
</p>
</div>
</div>



<div id="outline-container-org5ed9f06" class="outline-3">
<h3 id="org5ed9f06">agent</h3>
<div class="outline-text-3" id="text-org5ed9f06">
</div>
<ul class="org-ul">
<li><a id="org58fa9ce"></a>Backward incompatibilities<br />
<div class="outline-text-4" id="text-org58fa9ce">
<p>
None known.
</p>
</div>
</li>



<li><a id="org60aa412"></a>Bug fixes and enhancements<br />
<div class="outline-text-4" id="text-org60aa412">
<p>
User-visible changes include:
</p>
</div>



<ul class="org-ul">
<li><a id="orgaefaee6"></a><code>pbench-fio</code><br />
<div class="outline-text-5" id="text-orgaefaee6">
<p>
The pbench-fio script has undergone significant enhancements in order
</p>

<p>
to take advantage of several facilities implemented in the upstream fio
</p>

<p>
project. In particular, it gathers and reports latency histograms as
</p>

<p>
implemented by Karl Cronburg.
</p>



<p>
<b>N.B.</b> The script that processes the logs to get the histograms uses the
</p>

<p>
Python Pandas library. This script only runs on the controller, so the
</p>

<p>
library has to be installed there. <code>pbench-fio</code> tries to install the library
</p>

<p>
and it should succeed e.g. on Fedora systems. On RHEL systems however, the
</p>

<p>
<code>python-pandas</code> library is available from EPEL, but not from the standard
</p>

<p>
installation repos. You will therefore need to install the EPEL repo before
</p>

<p>
running <code>pbench-fio</code> on your controller. Details on EPEL can be found <a href="https://fedoraproject.org/wiki/EPEL">here</a>.
</p>



<p>
The process is as follows: on your RHEL7 controller (and similarly for RHEL6)
</p>

<pre class="example">

cd /tmp

curl --output ./epel-release-latest-7.noarch.rpm  https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm

yum install ./epel-release-latest-7.noarch.rpm
</pre>

<p>
After that, the <code>pbench-fio</code> script should be able to find and install
</p>

<p>
the <code>python-pandas</code> package.
</p>



<p>
<b>N.B.</b> You need the 2.14-9 (or later) version of the pbench-fio RPM,
</p>

<p>
which is available from the COPR pbench repo. This RPM is based on current
</p>

<p>
upstream fio master. The <code>pbench-fio</code> script will check for and install
</p>

<p>
this version, but please bear the dependency in mind if something goes
</p>

<p>
wrong.
</p>



<p>
You can now explicitly pass a fio job file to the script, instead of
</p>

<p>
or in addition to specifying fio options on the command line. We generally
</p>

<p>
recommend using the command line options for simple usage where that suffices,
</p>

<p>
but if you need options that <code>pbench-fio</code> does not implement, then using
</p>

<p>
a job file will be necessary.
</p>



<p>
You can run fio on a set of clients either by using the &#x2013;clients=&#x2026; option
</p>

<p>
to <code>pbench-fio</code>, explicitly listing the set of clients; or you can use the
</p>

<p>
&#x2013;client-file=&#x2026; option to pass a file containing the list of clients, one
</p>

<p>
client per line.
</p>
</div>
</li>



<li><a id="orgf4cf4c5"></a><code>pbench-moongen</code><br />
<div class="outline-text-5" id="text-orgf4cf4c5">
<p>
New options.
</p>
</div>
</li>



<li><a id="orgae5d72e"></a>pbench-user-benchmark<br />
<div class="outline-text-5" id="text-orgae5d72e">
<p>
The variable specifying the run directory, <code>benchmark_run_dir</code>, is now
</p>

<p>
exported by the main script, making it available to the user-provided
</p>

<p>
benchmark script (e.g. for squirreling away stuff to package up with the
</p>

<p>
rest of the data for storage/processing on the server).
</p>



<p>
This is only one part of a larger <a href="https://github.com/distributed-system-analysis/pbench/issues/349">issue #349</a>.
</p>
</div>
</li>



<li><a id="orgab97e32"></a>Triggers<br />
<div class="outline-text-5" id="text-orgab97e32">
<p>
Trigger functionality has been restored.
</p>
</div>
</li>



<li><a id="orga75aff4"></a>Hardening of tools-&lt;group&gt; directory handling<br />
<div class="outline-text-5" id="text-orga75aff4">
<p>
In some cases, additional files or subdirectories in the tools-default (or
</p>

<p>
more generally, tools-&lt;group&gt;) directory have caused problems. We now skip
</p>

<p>
subdirectories and check files against the available tools list, skipping
</p>

<p>
any that don't match. A warning is issued in either case suggesting that
</p>

<p>
the suspect file/subdirectory be removed.
</p>
</div>
</li>



<li><a id="org1309e2f"></a>Fixes to graph rendering<br />
<div class="outline-text-5" id="text-org1309e2f">
<p>
See <a href="#web-server-0.40">web-server</a> below.
</p>
</div>
</li>
</ul>
</li>
</ul>
</div>



<div id="outline-container-orgd953d0e" class="outline-3">
<h3 id="orgd953d0e">server</h3>
<div class="outline-text-3" id="text-orgd953d0e">
<ul class="org-ul">
<li><p>
Add mail notifications to the scripts that backs up results tar balls
</p>

<p>
for safekeeping.
</p></li>
</ul>



<ul class="org-ul">
<li>Add verification script to detect bit-rot in tar balls.</li>
</ul>



<ul class="org-ul">
<li><p>
We now run a cron job to fetch tar balls from "satellite" servers and
</p>

<p>
store them on our "production" server. The intent is to relieve some
</p>

<p>
of the disk space pressure on the satellite, and to take advantage
</p>

<p>
of the backup and bit-rot detection facilities that we employ on the
</p>

<p>
production server.
</p></li>
</ul>



<ul class="org-ul">
<li><p>
An additional script to age out results on a satellite server is in
</p>

<p>
the works but is not running yet.
</p></li>
</ul>
</div>
</div>



<div id="outline-container-orgdfdb24f" class="outline-3">
<h3 id="web-server-0.40">web-server</h3>
<div class="outline-text-3" id="text-web-server-0.40">
<p>
The pbench-web-server RPM has been updated with many fixes, cleanups
</p>

<p>
and optimizations. The major user-visible change is better handling
</p>

<p>
of outliers - see <a href="https://github.com/distributed-system-analysis/pbench/issues/317">issue #317</a>.
</p>



<p>
If you have it installed, you probably want to update:
</p>

<pre class="example">

dnf clean expire-cache

dnf update pbench-web-server
</pre>

<p>
(or the yum equivalents.)  The current version available from COPR
</p>

<p>
is 0.40-1gf281562.
</p>
</div>
</div>



<div id="outline-container-orgd638b5a" class="outline-3">
<h3 id="orgd638b5a">Changelog</h3>
<div class="outline-text-3" id="text-orgd638b5a">
<p>
This is the list of visible (non-merge, non-unit-test-related) commits
</p>

<p>
since v0.39:
</p>



<ul class="org-ul">
<li>5409667 Make client file pathname absolute</li>

<li>0192eda Check for and install python-pandas</li>

<li>fa328b4 use a smaller port number increment to allow greater scalability</li>

<li>7e98d63 change &#x2013;cache-drop-script to &#x2013;pre-iteration-script</li>

<li>988c586 Add &#x2013;dst-macs option to pbench-moongen</li>

<li>c7420f9 Save client file in the run directory</li>

<li>19cf29d Redirect various "No such file or directory" messages to /dev/null</li>

<li>1301c1a Fix label complaint in tools-&lt;group&gt; sanity checking code</li>

<li>de11f82 Pass file from &#x2013;client-file option directly to fio</li>

<li>f53293a pbench-list-triggers rewrite.</li>

<li>cd3dfb5 Grammar and spelling updates to the jschart docs</li>

<li>fa45c15 Check for spurious files/subdirectories of tools-&lt;group&gt; dir</li>

<li>e19d81a Fix triggers</li>

<li>4a83b02 Update jschart API call in fio-postprocess-viz.py</li>

<li>ad84dca Update unit tests for new jschart API</li>

<li>0cfe6b7 Add View Port Controls to jschart</li>

<li>1fd5b11 Use the create_jschart interface</li>

<li>5dad7d0 Add documentation to jschart and do minor cleanups</li>

<li>60f2a52 Update jschart to include the number of histogram buckets in the table</li>

<li>abdcec5 Update jschart to show the datapoints on highlighted datasets for histogram and xy charts</li>

<li>1cb8864 Delete remote tar balls after checking.</li>

<li>480b20a Sync satellite to master.</li>

<li>4c1f1e4 Move bad-md5 links to their own state directory.</li>

<li>9202d3d Fix some typos in pbench-uperf help strings.</li>

<li>7d0f360 Add/fix help string to pbench_fio.</li>

<li>65de78b Add verify script for backup tar balls.</li>

<li>cc8594a Fix a subsitution bug in BenchPostprocess::get_uid</li>

<li>b8995ed Add new MoonGen queue control options</li>

<li>3a13b5a Process only the last moongen validation phase</li>

<li>d21fd21 Add mail notification for pbench-backup-tar balls</li>

<li>0465506 Fixes to fully handle epoch time: - Parse job file from fio-postprocess-viz.py to detect when log_unix_epoch is present (using 'timeseries' instead of 'xy' in jschart) - jschart expects ms not s (no more divide by 1000 on time values) - Pass job file parameter whenever we call fiologparser_hist.py and fio-postproces-viz.py - Update to make-fio-jobfile.py to handle config options without values (e.g. 'stonewall' in fio)</li>

<li>b0fff69 Add pprof heap support</li>

<li>930ee68 Run fiologparser_hist.py during postprocessing, and generate jschart HTML docs showing the histogram data for each individual sample as well as (merged) across all samples for a particular iteration.</li>

<li>1c52ee2 Make the run directory available to the called user script.</li>

<li>debc148 Templating prototype for `pbench-fio`, using config files to specify fio parameters. The order of precedence used is as follows: (from high to low)</li>

<li>5958d94 Add &#x2013;client-file option to specify a list of clients</li>

<li>3fd2741 Remove redundant $bench_opts</li>

<li>bbe6b9b Ensure &#x2013;samples is documented in &#x2013;help</li>

<li>f9d939e Ensure $client is assigned before it is referenced</li>

<li>a5ed3eb use correct benchmark name</li>

<li>da5928e Respect GOROOT env var if set</li>

<li>5969500 Fix exit status of pbench-{move/copy}-results.</li>
</ul>
</div>
</div>
</div>



<div id="outline-container-org2c6653a" class="outline-2">
<h2 id="org2c6653a">Version 0.39</h2>
<div class="outline-text-2" id="text-org2c6653a">
</div>
<div id="outline-container-org515b790" class="outline-3">
<h3 id="org515b790">Installation</h3>
<div class="outline-text-3" id="text-org515b790">
<p>
There are no installation changes in this release: see the
</p>

<p>
<a href="../agent/installation.html">Installation Instructions</a> for how to install.
</p>



<p>
After installation or update, you should have version 0.39-3g4f9ab11
</p>

<p>
of the pbench-agent RPM installed.
</p>
</div>
</div>



<div id="outline-container-orgb30779e" class="outline-3">
<h3 id="orgb30779e">agent</h3>
<div class="outline-text-3" id="text-orgb30779e">
</div>
<ul class="org-ul">
<li><a id="org87ff145"></a>Backward incompatibilities<br />
<ul class="org-ul">
<li><a id="orgfb91bf9"></a>pbench-agent config file renamed<br />
<div class="outline-text-5" id="text-orgfb91bf9">
<p>
All configuration files now have a suffix of ".cfg", rather than
</p>

<p>
".conf".  In particular, the default pbench-agent config file is now
</p>

<p>
<code>/opt/pbench-agent/config/pbench-agent.cfg</code>.  You might have to rename
</p>

<p>
your existing config file:
</p>

<pre class="example">

cd /opt/pbench-agent/config

mv pbench-agent.conf pbench-agent.cfg
</pre>

<p>
If you have problems (e.g. <code>pbench-register-tool-set</code> only registers the <code>perf</code>
</p>

<p>
tool, rather than a complete set; <code>pbench-move-results</code> fails because it cannot
</p>

<p>
find a server), check with:
</p>

<pre class="example">

cat $CONFIG
</pre>

<p>
If that fails, then pbench cannot find the config file, most probably because
</p>

<p>
of the renaming described above.
</p>
</div>
</li>

<li><a id="org6d9de77"></a>pbench-netperf script has bit-rotted<br />
<div class="outline-text-5" id="text-org6d9de77">
<p>
The pbench-netperf script seems to have bit-rotted. We are trying to
</p>

<p>
decide whether to fix it or abandon it. If you have an opinion, please
</p>

<p>
comment at <a href="https://github.com/distributed-system-analysis/pbench/issues/291">https://github.com/distributed-system-analysis/pbench/issues/291</a>.
</p>
</div>
</li>
</ul>
</li>



<li><a id="org45551e5"></a>New features<br />
<div class="outline-text-4" id="text-org45551e5">
<p>
Please submit suggestions/issues to the <a href="https://github.com/distributed-system-analysis/pbench/issues">issue tracker</a>.
</p>
</div>



<ul class="org-ul">
<li><a id="org2e16be9"></a>JSON files for pbench-uperf<br />
<div class="outline-text-5" id="text-org2e16be9">
<p>
The postprocessing now produces JSON files that we are planning to use
</p>

<p>
in order to index benchmark results and tool output into ES. The
</p>

<p>
backend work necessary to index these results will be done between
</p>

<p>
v0.39 and v0.40 and might necessitate changes to the JSON output. So
</p>

<p>
pbench-uperf is treated as a guinea pig and once the output format
</p>

<p>
solidifies, the rest of the benchmarks are going to be converted as
</p>

<p>
well, probably starting with pbench-fio.
</p>



<p>
A large part of the work for pbench-uperf has been to refactor the
</p>

<p>
pbench-uperf script, so that the resulting pieces can be
</p>

<p>
reused. Andrew hopes to have 90% of each benchmark script code in
</p>

<p>
reusable packages, which will also simplify adding new scripts in the
</p>

<p>
future.
</p>
</div>
</li>



<li><a id="org5aebe61"></a>The pbench docs on github have been revamped<br />
<div class="outline-text-5" id="text-org5aebe61">
<p>
The docs can now be processed in two ways: to produce "internal"
</p>

<p>
documents, including the more automated installation that is possible
</p>

<p>
internally, as well as "external" documents that are more generic and
</p>

<p>
depend only on externally available resources.
</p>



<p>
The docs on github have been replaced by the "external" documents:
</p>

<p>
there are still some <code>example.com</code> fake URLs (clearly marked, we hope)
</p>

<p>
but almost all URLs now point to their correct referent and the instructions
</p>

<p>
should be enough to get pbench-agent/pbench-server/pbench-web-server installed
</p>

<p>
in an arbitrary environment, but with some manual work required (again, clearly
</p>

<p>
described, we hope, even if it is somewhat laborious).
</p>
</div>
</li>
</ul>
</li>



<li><a id="org952b1c1"></a>Bug fixes<br />
<ul class="org-ul">
<li><a id="org36681cc"></a>Better error handling by utility scripts<br />
<div class="outline-text-5" id="text-org36681cc">
<p>
In particular, errors in ssh invocations in pipelines are caught and returned
</p>

<p>
properly. More work is planned in this area for upcoming releases, in particular
</p>

<p>
hardening the benchmark scripts so that they deal better with errors and signals.
</p>
</div>
</li>



<li><a id="org3d4b035"></a>Safer killing of tools<br />
<div class="outline-text-5" id="text-org3d4b035">
<p>
A safer kill has been implemented for all the tools that are linked to
</p>

<p>
<code>kvm-spinlock</code>.  Assuming no problems surface, the sar-based tools
</p>

<p>
will get the same treatment in upcoming releases.
</p>
</div>
</li>



<li><a id="orgb487946"></a>Screen session names were too long<br />
<div class="outline-text-5" id="text-orgb487946">
<p>
The screen command fails when the name of the screen session (-S) is
</p>

<p>
very long. This happens when the iteration full name is quite long. A
</p>

<p>
fix for this uses only the iteration number, reducing the screen
</p>

<p>
name to a safe length.
</p>
</div>
</li>

<li><a id="org3cc05f3"></a>Fixes to graph rendering<br />
<div class="outline-text-5" id="text-org3cc05f3">
<p>
See <a href="#web-server-0.39">web-server</a> below.
</p>
</div>
</li>
</ul>
</li>
</ul>
</div>


<div id="outline-container-orgf05d5da" class="outline-3">
<h3 id="orgf05d5da">server</h3>
<div class="outline-text-3" id="text-orgf05d5da">
<p>
Server installation was simplified in v0.38: there is an RPM on COPR that can be used
</p>

<p>
for installation, but as for the pbench-agent, it is not completely self-contained: one
</p>

<p>
needs to install various configuration files and generate a directory structure for apache,
</p>

<p>
a directory structure for results and a crontab that invokes the various scripts to process
</p>

<p>
incoming results and make them available for viewing on the web.
</p>



<p>
This release adds scripts to do these tasks somewhat more conveniently. It is possible to
</p>

<p>
use these scripts from an RPM that installs the config files and then invokes the scripts to
</p>

<p>
finish the installation. But it is also possible to do these steps manually. See the
</p>

<p>
<a href="file:///home/nick/src/internal/pbench/doc/server/installation.html">server installation guide</a> for details.
</p>
</div>
</div>



<div id="outline-container-org8deaaba" class="outline-3">
<h3 id="web-server-0.39">web-server</h3>
<div class="outline-text-3" id="text-web-server-0.39">
<p>
The pbench-web-server RPM has been updated with many fixes, cleanups
</p>

<p>
and optimizations.  Changes that are user-visible are:
</p>



<ul class="org-ul">
<li>Update jschart to better handle errors while loading datasets</li>

<li>Update jschart to support alternative csv file formatting</li>

<li>Fix a jschart bug where the wrong clip-path is referenced</li>

<li><p>
Update jschart to add percentiles to the values displayed in the
</p>

<p>
table when the mouse is moving across a histogram chart
</p></li>
</ul>



<p>
If you have it installed, you probably want to update:
</p>

<pre class="example">

dnf clean expire-cache

dnf update pbench-web-server
</pre>

<p>
(or the yum equivalents.)  The current version available from COPR
</p>

<p>
is 0.3-19gaf1ffe4.
</p>
</div>
</div>



<div id="outline-container-org14167b3" class="outline-3">
<h3 id="org14167b3">Changelog</h3>
<div class="outline-text-3" id="text-org14167b3">
<ul class="org-ul">
<li>9c2554f Bump versions for various benchmarks.</li>

<li>a02ad33 Bump VERSION.</li>

<li>48b8c27 Fix condition for warning of already running tools.</li>

<li>f4f5618 Add unit tests.</li>

<li>cf59a06 Check status of backgrounded commands in pbench-postprocess-tools.</li>

<li>fe15a81 Catch pipeline failures and return proper error status.</li>

<li>75ca51c Use pidof -x to get list of pids.</li>

<li>7bbb4dd Revert the change to perf.</li>

<li>11a0ad9 Add unit tests for safe_kill.</li>

<li>fa80b08 Safer kill: check for strange situations and deal with them.</li>

<li>862e68b Change the name of the config file in profile.</li>

<li>9e0ecef Fix pbench-agent-config-activate and add unit test.</li>

<li>19039eb Allow partial execution of unittests.</li>

<li>57b56e7 Fix links to point to DSA github.io area.</li>

<li>d720f61 updated pprof to point to correct package name for "go" it is golang, not go - added tool_bin to point to /usr/bin/go</li>

<li>ee321d6 Add missing '$'</li>

<li>d38ba9b Reduce screen session name to avoid screen error</li>

<li>66c6996 Update jschart's d3-queue support from version 2 to version 3</li>

<li>bc34df8 Update jschart to support alternative csv file formatting</li>

<li>343f715 Fix a jschart bug where the wrong clip-path is referenced</li>

<li>333978c Update jschart to add percentiles to the values displayed in the table when the mouse is moving across a histogram chart</li>

<li>8608c57 Update jschart to better handle errors while loading datasets</li>

<li>cae9788 Update jschart by eliminating the use of map</li>

<li>2423475 Bug fix for jschart to pass a proper reference to the SVG to saveSvgAsPng</li>

<li>826e5d7 Update jschart by eliminating as many global variables as possible to avoid out of scope references</li>

<li>521cb95 Update jschart to minimize global variable references to the charts object</li>

<li>74b30a8 Update jschart with cleanups and optimizations</li>

<li>932679a Benchmark and iteration summary/processing scripts, JSON files and MoonGen benchmark support</li>

<li>775f208 Remove duplicate data collected by sosreports</li>

<li>a395811 Links to revised documentation.</li>

<li>e6605d6 Add memory usage pidstat graphs</li>

<li>124c787 Server installation link added.</li>

<li>feb8aed bgtasks &#x2013;&gt; pbench-server</li>

<li>f51df98 Links to revised docs.</li>

<li>d21eefa Server version bump.</li>

<li>66382bb Add server activation unit test.</li>

<li>455c7f8 Fix command path.</li>

<li>df7aaab Allow different set-ups during server activation.</li>

<li>b63bdf5 Fix quoting of patterns for pidstat.</li>
</ul>
</div>
</div>
</div>



<div id="outline-container-org3f50a9c" class="outline-2">
<h2 id="org3f50a9c">Version 0.38</h2>
<div class="outline-text-2" id="text-org3f50a9c">
</div>
<div id="outline-container-org3ce4a7a" class="outline-3">
<h3 id="org3ce4a7a">Installation</h3>
<div class="outline-text-3" id="text-org3ce4a7a">
<p>
There are no installation changes in this release: see the
</p>

<p>
<a href="../agent/installation.html">Installation Instructions</a> for how to install.
</p>



<p>
After installation or update, you should have version 0.38-1g0db11ba
</p>

<p>
of the pbench-agent RPM installed.
</p>
</div>
</div>



<div id="outline-container-org9fe8571" class="outline-3">
<h3 id="org9fe8571">agent</h3>
<div class="outline-text-3" id="text-org9fe8571">
</div>
<ul class="org-ul">
<li><a id="org0ca6213"></a>Backward incompatibilities<br />
<div class="outline-text-4" id="text-org0ca6213">
<p>
In the v0.36 timeframe, all pbench scripts and benchmarks that are
</p>

<p>
normally accessible were renamed: those that did not have a prefix at
</p>

<p>
all were renamed with a "pbench-" prefix; the benchmarks had a
</p>

<p>
"pbench_" prefix and were renamed for consistency with a "pbench-"
</p>

<p>
prefix as well.
</p>



<p>
In v0.37, there were compatibility links to the old names in util-scripts.
</p>



<p>
In v0.38, these links have been deleted: you will have to make sure
</p>

<p>
that you use (and all your scripts use) the names with the "pbench-"
</p>

<p>
prefix.
</p>
</div>
</li>



<li><a id="org3df8218"></a>New features<br />
<div class="outline-text-4" id="text-org3df8218">
<p>
Please submit suggestions/issues to the <a href="https://github.com/distributed-system-analysis/pbench/issues">issue tracker</a>.
</p>
</div>



<ul class="org-ul">
<li><a id="orgaf9e6be"></a>New graphs<br />
<div class="outline-text-5" id="text-orgaf9e6be">
<p>
The major change in this release is the replacement of the original
</p>

<p>
nvd3 graphs with graphs produced by a library written by Karl Rister.
</p>

<p>
The advantage of this library is that it is much less demanding on
</p>

<p>
the browser than the original graph library.
</p>



<p>
Note that it uses the same CSV files that the original graphs used,
</p>

<p>
which it downloads from the server<sup><a id="fnr.1" class="footref" href="#fn.1">1</a></sup>: big data sets are still
</p>

<p>
going to incur long time penalties for the transfer. The difference is
</p>

<p>
that once the download is complete, your browser will stand a much
</p>

<p>
better chance of staying alive and able to display the graphs.
</p>
</div>
</li>
</ul>
</li>



<li><a id="org43ed722"></a>Bug fixes<br />
<ul class="org-ul">
<li><a id="org2aed991"></a>Fixed the RPM names for tools and benchmarks to include the pbench- prefix<br />
<div class="outline-text-5" id="text-org2aed991">
<p>
PBench will now be able to find and install the correct RPMs (with the
</p>

<p>
current exception of pbench-iperf as noted above).
</p>
</div>
</li>



<li><a id="org8d1927d"></a>Fixed the URL for the COPR repo<br />
<div class="outline-text-5" id="text-org8d1927d">
<p>
The documentation on GitHub was pointing to a non-existent place for
</p>

<p>
the COPR pbench-agent RPM: it used a sanitized <code>example.com</code>
</p>

<p>
address. This was fixed, but note that the documentation still
</p>

<p>
contains dead links and will undergo a significant overhaul for
</p>

<p>
the next release.
</p>
</div>
</li>



<li><a id="org8dd91a6"></a>The pbench-kiil-tools symlink in the repo was wrong.<br />
<div class="outline-text-5" id="text-org8dd91a6">
<p>
That was fixed, but the bug did not and does not have any effect on a
</p>

<p>
local installation: those symlinks are created on the fly by an RPM
</p>

<p>
%post action.
</p>
</div>
</li>



<li><a id="orgf11c94f"></a>The sar script was modified to handle user-defined options.<br />
<div class="outline-text-5" id="text-orgf11c94f">
<p>
Note however that if you use non-standard options, the postprocessing
</p>

<p>
step for the sar tool (and its relatives) will be skipped, since
</p>

<p>
pbench does not know how to handle the modified output.
</p>
</div>
</li>
</ul>
</li>
</ul>
</div>





<div id="outline-container-org57c286a" class="outline-3">
<h3 id="org57c286a">server</h3>
<div class="outline-text-3" id="text-org57c286a">
<p>
The server has now been organized in the same way as the agent: there
</p>

<p>
is an external RPM available from COPR that includes all the scripts,
</p>

<p>
and some configuration scripts that can be used to install the config
</p>

<p>
file and perform the rest of the server configuration. See the [[<a href="../server/installation.html">../server/installation.html</a>][server
</p>

<p>
installation guide]].
</p>
</div>
</div>



<div id="outline-container-orgb387547" class="outline-3">
<h3 id="orgb387547">web-server</h3>
<div class="outline-text-3" id="text-orgb387547">
<p>
There is an RPM available on COPR that allows local viewing of graphs,
</p>

<p>
both in the v0.2 format (Andrew's graphs using nvd3) or in the v0.3
</p>

<p>
format (Karl's graphs using d3). This now includes Karl's latest fixes.
</p>

<p>
If you have installed an older version, please upgrade. The current version
</p>

<p>
on COPR is 0.3-10.
</p>
</div>
</div>



<div id="outline-container-org68687a4" class="outline-3">
<h3 id="org68687a4">Fedora 24 RPMs on COPR</h3>
<div class="outline-text-3" id="text-org68687a4">
<p>
Fedora 24 has been added to the build list and Fedora 21 has been
</p>

<p>
deleted from it, for all the RPMS (benchmarks, tools,
</p>

<p>
pbench-agent, pbench-server, pbench-web-server, configtools).
</p>



<p>
One benchmark RPM (<code>pbench-iperf</code>) is currently failing to build. This
</p>

<p>
will be fixed shortly.
</p>
</div>
</div>



<div id="outline-container-org670fac3" class="outline-3">
<h3 id="org670fac3">Changelog</h3>
<div class="outline-text-3" id="text-org670fac3">
<ul class="org-ul">
<li>4a65484 Version bump.</li>

<li>0d5a976 Delete compatibility wrapper.</li>

<li>2dff665 Wrong link for pbench-kill-tools.</li>

<li>58dbb63 Update jschart and fix a small bug by cleaning up the y axis label updating code</li>

<li>a9ac750 Fix a bug in the jschart tooltip implementation when the tooltip belongs to an Y axis label</li>

<li>8ca3d37 Long overdue cleanup of the jschart style and class code</li>

<li>99fc942 Update the jschart legend rectangle outlining code to work with Firefox and vector zooming</li>

<li>ef211e8 Update jschart live_update to a timeseries data model which uses milliseconds since the epoch timestamps</li>

<li>b4372f6 Update jschart with a new filtering capability based on the dataset name and resort the table (if sorting is enabled) when datasets are hidden or unhidden</li>

<li>281d89c Update the jschart show/hide all events to use static functions with locally scoped variables</li>

<li>9453829 Update jschart threshold application events to use static functions with locally scoped variables</li>

<li>76590ed Update the the jschart dataset mouseover, mouseout, and click events to use static functions with locally scoped variables</li>

<li>844b87b Update the jschart viewport event handlers to use static functions with locally scoped variables instead of closures</li>

<li>3bef541 Update jschart to eliminate some calls to map that are made often during some runtime behaviors</li>

<li>6dbc809 Update jschart by replacing many data accesor closures with static functions</li>

<li>82a0151 Update jschart to display the datasets value in the table that most closely aligns with the cursor's position in the viewport</li>

<li>3a8cd33 Remove some dead code from jschart</li>

<li>94c0808 Update the jschart table creations to use D3 principles to improve maintainability and reduce code bloat</li>

<li>c332ef9 Update jschart to improve maintainability and performance</li>

<li>5d83c24 Update jschart to be able to apply a dynamic threshold based on a a dataset's maximum y value or y mean</li>

<li>325f17e Update the jschart live update controls to fix some bugs introduced with the recent code churn</li>

<li>25bf0b1 Update jschart to automatically sort the datasets in descending order based on their mean by default</li>

<li>5ea4df3 Update jschart to honor the threshold and use it to determine if datasets should be automatically hidden</li>

<li>b276f78 Move some jschart hard coded values into global variables for easier maintanance and use moving forward</li>

<li>3a45dfa Update jschart to be more dynamic when hiding and unhiding datasets</li>

<li>44d5238 Allow hidden datasets in jschart to be unhidden by clicking their table row</li>

<li>9b000bf Add jschart support for log scale on the x and y axis</li>

<li>3534f88 Update the jschart axes references to conform to other chart object references</li>

<li>3bce44d Update the jschart axes without doing DOM searches</li>

<li>a1af8da Refactor the code to use a global array of chart objects with references to all chart elements and data that may be accessed at runtime</li>

<li>b1e93ea Squash some tooltip bugs</li>

<li>69813a4 Add the ability to hide all or individual datasets and the requisite ability to unhide them</li>

<li>09f33a5 Refactor the dataset highlighting code to track state and improve performance</li>

<li>5f0e909 Add a link from a chart_ref to it's datasets and links from the datasets to their DOM objects</li>

<li>bf5732f Update the legend boxes to always have a constant colored outline</li>

<li>e15db96 Update the description and dependency information for jschart</li>

<li>bbc21f0 Update the wording that refers to the EPL LICENSE.TXT file locations</li>

<li>dcbf39b Update the verbage in the demo web server to better reflect it's usage</li>

<li>388d319 Add a simple web server from LPCPU for use in demoing/testing jschart</li>

<li>43ed280 Add a jschart demo for testing purposes</li>

<li>db0ece1 Add support for a new data model type called histogram</li>

<li>c99c7d3 More jschart whitespace formatting cleanups</li>

<li>c8cfe1e Fix a bug in the jschart "Apply X-Axis Zoom to All" feature caused by the new support for timeseries charts</li>

<li>a2f1056 Fix some bugs in the zoom_it function in jschart when the data model is timeseries:</li>

<li>e471473 Remove dead code from the handle_brush_actions function in jschart</li>

<li>87c7647 Update the mouse coordinate display to support when the chart is timeseries</li>

<li>583ef9e Fixup timezone and time formatting support, defaulting to UTC</li>

<li>9f0a3a7 Update jschart to use a dynamic x-axis label showing the (zoomed) time range when the chart is timeseries</li>

<li>3534125 Update GenData to use jschart</li>

<li>bb36819 Update jschart to be compatible with GenData chart type specifications</li>

<li>3b3889f Update the jschart highlight functions to have more descriptive names</li>

<li>1f354a7 Update D3 Queue initialization to match d3-queue code available via npm</li>

<li>28d51b9 Add support for saveSvgAsPng to jschart</li>

<li>3029052 Add support for specifying whether a jschart is a XY plot or timeseries</li>

<li>247216b Remove the jschart assertion that the x-axis domain should have a minimum=0 unless otherwise specified</li>

<li>72a42e9 Add support for loading CSV data files into jschart</li>

<li>785b27c Update jschart.js to dynamically build the summary table at runtime</li>

<li>c8b781a Initial commit of jschart files pulled from LPCPU</li>

<li>7224a5a Clean up the list file.</li>

<li>ef3f12b Fix the COPR repo URL.</li>

<li>6a1e74f Store cron job script logs in the local file system.</li>

<li>fc9d61d modified oc scrit -&gt; fixed typo -&gt; if decided to start too, instructed to install 'expect' package - necessary for unbuffer</li>

<li>02eb062 Fix the calls to check_installed_rpm in all the benchmarks.</li>

<li>6c48dbe Script rename: metadata-log &#x2013;&gt; pbench-metadata-log</li>

<li>2b8b991 Modify the sar script (and its relatives) to handle user-defined options.</li>
</ul>
</div>
</div>
</div>
<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.1" class="footnum" href="#fnr.1">1</a></sup> <div class="footpara"><p class="footpara">
Unless you install locally - see <a href="http://pbench.example.com/server/pbench-web-server.html">PBench web server</a> for instructions.
</p></div></div>


</div>
</div></div>
<div id="postamble" class="status">
<p class="date">Page updated: 2019-11-07 Thu 17:29</p>
</div>
</body>
</html>
